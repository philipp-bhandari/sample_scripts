+function(e){"use strict";function t(){var e=document.createElement("bootstrap");var t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t){if(e.style[i]!==undefined){return{end:t[i]}}}return false}e.fn.emulateTransitionEnd=function(t){var i=false;var s=this;e(this).one("bsTransitionEnd",function(){i=true});var r=function(){if(!i)e(s).trigger(e.support.transition.end)};setTimeout(r,t);return this};e(function(){e.support.transition=t();if(!e.support.transition)return;e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function(e){"use strict";var t=function(t,i){this.options=i;this.$body=e(document.body);this.$element=e(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};t.VERSION="3.3.6";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:true,keyboard:true,show:true};t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};t.prototype.show=function(i){var s=this;var r=e.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){s.$element.one("mouseup.dismiss.bs.modal",function(t){if(e(t.target).is(s.$element))s.ignoreBackdropClick=true})});this.backdrop(function(){var r=e.support.transition&&s.$element.hasClass("fade");if(!s.$element.parent().length){s.$element.appendTo(s.$body)}s.$element.show().scrollTop(0);s.adjustDialog();if(r){s.$element[0].offsetWidth}s.$element.addClass("in");s.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:i});r?s.$dialog.one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):s.$element.trigger("focus").trigger(o)})};t.prototype.hide=function(i){if(i)i.preventDefault();i=e.Event("hide.bs.modal");this.$element.trigger(i);if(!this.isShown||i.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();e(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()};t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};t.prototype.resize=function(){if(this.isShown){e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this))}else{e(window).off("resize.bs.modal")}};t.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(i){var s=this;var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(o)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!i)return;o?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):i()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){s.removeBackdrop();i&&i()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(i){i()}};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",e+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure";this.$body.append(e);var t=e.offsetWidth-e.clientWidth;this.$body[0].removeChild(e);return t};function i(i,s){return this.each(function(){var r=e(this);var o=r.data("bs.modal");var n=e.extend({},t.DEFAULTS,r.data(),typeof i=="object"&&i);if(!o)r.data("bs.modal",o=new t(this,n));if(typeof i=="string")o[i](s);else if(n.show)o.show(s)})}var s=e.fn.modal;e.fn.modal=i;e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=s;return this};e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var s=e(this);var r=s.attr("href");var o=e(s.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var n=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),s.data());if(s.is("a"))t.preventDefault();o.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;o.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})});i.call(o,n,this)})}(jQuery);(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(typeof jQuery!="undefined"?jQuery:window.Zepto)}})(function(e){"use strict";var t={};t.fileapi=e("<input type='file'/>").get(0).files!==undefined;t.formdata=window.FormData!==undefined;var i=!!e.fn.prop;e.fn.attr2=function(){if(!i){return this.attr.apply(this,arguments)}var e=this.prop.apply(this,arguments);if(e&&e.jquery||typeof e==="string"){return e}return this.attr.apply(this,arguments)};e.fn.ajaxSubmit=function(s){if(!this.length){o("ajaxSubmit: skipping submit process - no element selected");return this}var r,n,a,l=this;if(typeof s=="function"){s={success:s}}else if(s===undefined){s={}}r=s.type||this.attr2("method");n=s.url||this.attr2("action");a=typeof n==="string"?e.trim(n):"";a=a||window.location.href||"";if(a){a=(a.match(/^([^#]+)/)||[])[1]}s=e.extend(true,{url:a,success:e.ajaxSettings.success,type:r||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},s);var c={};this.trigger("form-pre-serialize",[this,s,c]);if(c.veto){o("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(s.beforeSerialize&&s.beforeSerialize(this,s)===false){o("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var f=s.traditional;if(f===undefined){f=e.ajaxSettings.traditional}var u=[];var p,d=this.formToArray(s.semantic,u);if(s.data){s.extraData=s.data;p=e.param(s.data,f)}if(s.beforeSubmit&&s.beforeSubmit(d,this,s)===false){o("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[d,this,s,c]);if(c.veto){o("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var h=e.param(d,f);if(p){h=h?h+"&"+p:p}if(s.type.toUpperCase()=="GET"){s.url+=(s.url.indexOf("?")>=0?"&":"?")+h;s.data=null}else{s.data=h}var m=[];if(s.resetForm){m.push(function(){l.resetForm()})}if(s.clearForm){m.push(function(){l.clearForm(s.includeHidden)})}if(!s.dataType&&s.target){var g=s.success||function(){};m.push(function(t){var i=s.replaceTarget?"replaceWith":"html";e(s.target)[i](t).each(g,arguments)})}else if(s.success){m.push(s.success)}s.success=function(e,t,i){var r=s.context||this;for(var o=0,n=m.length;o<n;o++){m[o].apply(r,[e,t,i||l,l])}};if(s.error){var _=s.error;s.error=function(e,t,i){var r=s.context||this;_.apply(r,[e,t,i,l])}}if(s.complete){var v=s.complete;s.complete=function(e,t){var i=s.context||this;v.apply(i,[e,t,l])}}var b=e("input[type=file]:enabled",this).filter(function(){return e(this).val()!==""});var y=b.length>0;var w="multipart/form-data";var x=l.attr("enctype")==w||l.attr("encoding")==w;var $=t.fileapi&&t.formdata;o("fileAPI :"+$);var k=(y||x)&&!$;var T;if(s.iframe!==false&&(s.iframe||k)){if(s.closeKeepAlive){e.get(s.closeKeepAlive,function(){T=P(d)})}else{T=P(d)}}else if((y||x)&&$){T=I(d)}else{T=e.ajax(s)}l.removeData("jqxhr").data("jqxhr",T);for(var S=0;S<u.length;S++){u[S]=null}this.trigger("form-submit-notify",[this,s]);return this;function C(t){var i=e.param(t,s.traditional).split("&");var r=i.length;var o=[];var n,a;for(n=0;n<r;n++){i[n]=i[n].replace(/\+/g," ");a=i[n].split("=");o.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])])}return o}function I(t){var i=new FormData;for(var o=0;o<t.length;o++){i.append(t[o].name,t[o].value)}if(s.extraData){var n=C(s.extraData);for(o=0;o<n.length;o++){if(n[o]){i.append(n[o][0],n[o][1])}}}s.data=null;var a=e.extend(true,{},e.ajaxSettings,s,{contentType:false,processData:false,cache:false,type:r||"POST"});if(s.uploadProgress){a.xhr=function(){var t=e.ajaxSettings.xhr();if(t.upload){t.upload.addEventListener("progress",function(e){var t=0;var i=e.loaded||e.position;var r=e.total;if(e.lengthComputable){t=Math.ceil(i/r*100)}s.uploadProgress(e,i,r,t)},false)}return t}}a.data=null;var l=a.beforeSend;a.beforeSend=function(e,t){if(s.formData){t.data=s.formData}else{t.data=i}if(l){l.call(this,e,t)}};return e.ajax(a)}function P(t){var n=l[0],a,c,f,p,d,h,m,g,_,v,b,y;var w=e.Deferred();w.abort=function(e){g.abort(e)};if(t){for(c=0;c<u.length;c++){a=e(u[c]);if(i){a.prop("disabled",false)}else{a.removeAttr("disabled")}}}f=e.extend(true,{},e.ajaxSettings,s);f.context=f.context||f;d="jqFormIO"+(new Date).getTime();if(f.iframeTarget){h=e(f.iframeTarget);v=h.attr2("name");if(!v){h.attr2("name",d)}else{d=v}}else{h=e('<iframe name="'+d+'" src="'+f.iframeSrc+'" />');h.css({position:"absolute",top:"-1000px",left:"-1000px"})}m=h[0];g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i=t==="timeout"?"timeout":"aborted";o("aborting upload... "+i);this.aborted=1;try{if(m.contentWindow.document.execCommand){m.contentWindow.document.execCommand("Stop")}}catch(s){}h.attr("src",f.iframeSrc);g.error=i;if(f.error){f.error.call(f.context,g,i,t)}if(p){e.event.trigger("ajaxError",[g,f,i])}if(f.complete){f.complete.call(f.context,g,i)}}};p=f.global;if(p&&0===e.active++){e.event.trigger("ajaxStart")}if(p){e.event.trigger("ajaxSend",[g,f])}if(f.beforeSend&&f.beforeSend.call(f.context,g,f)===false){if(f.global){e.active--}w.reject();return w}if(g.aborted){w.reject();return w}_=n.clk;if(_){v=_.name;if(v&&!_.disabled){f.extraData=f.extraData||{};f.extraData[v]=_.value;if(_.type=="image"){f.extraData[v+".x"]=n.clk_x;f.extraData[v+".y"]=n.clk_y}}}var x=1;var $=2;function k(e){var t=null;try{if(e.contentWindow){t=e.contentWindow.document}}catch(i){o("cannot get iframe.contentWindow document: "+i)}if(t){return t}try{t=e.contentDocument?e.contentDocument:e.document}catch(i){o("cannot get iframe.contentDocument: "+i);t=e.document}return t}var T=e("meta[name=csrf-token]").attr("content");var S=e("meta[name=csrf-param]").attr("content");if(S&&T){f.extraData=f.extraData||{};f.extraData[S]=T}function C(){var t=l.attr2("target"),i=l.attr2("action"),s="multipart/form-data",a=l.attr("enctype")||l.attr("encoding")||s;n.setAttribute("target",d);if(!r||/post/i.test(r)){n.setAttribute("method","POST")}if(i!=f.url){n.setAttribute("action",f.url)}if(!f.skipEncodingOverride&&(!r||/post/i.test(r))){l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(f.timeout){y=setTimeout(function(){b=true;M(x)},f.timeout)}function c(){try{var e=k(m).readyState;o("state = "+e);if(e&&e.toLowerCase()=="uninitialized"){setTimeout(c,50)}}catch(t){o("Server abort: ",t," (",t.name,")");M($);if(y){clearTimeout(y)}y=undefined}}var u=[];try{if(f.extraData){for(var p in f.extraData){if(f.extraData.hasOwnProperty(p)){if(e.isPlainObject(f.extraData[p])&&f.extraData[p].hasOwnProperty("name")&&f.extraData[p].hasOwnProperty("value")){u.push(e('<input type="hidden" name="'+f.extraData[p].name+'">').val(f.extraData[p].value).appendTo(n)[0])}else{u.push(e('<input type="hidden" name="'+p+'">').val(f.extraData[p]).appendTo(n)[0])}}}}if(!f.iframeTarget){h.appendTo("body")}if(m.attachEvent){m.attachEvent("onload",M)}else{m.addEventListener("load",M,false)}setTimeout(c,15);try{n.submit()}catch(g){var _=document.createElement("form").submit;_.apply(n)}}finally{n.setAttribute("action",i);n.setAttribute("enctype",a);if(t){n.setAttribute("target",t)}else{l.removeAttr("target")}e(u).remove()}}if(f.forceSync){C()}else{setTimeout(C,10)}var I,P,O=50,j;function M(t){if(g.aborted||j){return}P=k(m);if(!P){o("cannot access response document");t=$}if(t===x&&g){g.abort("timeout");w.reject(g,"timeout");return}else if(t==$&&g){g.abort("server abort");w.reject(g,"error","server abort");return}if(!P||P.location.href==f.iframeSrc){if(!b){return}}if(m.detachEvent){m.detachEvent("onload",M)}else{m.removeEventListener("load",M,false)}var i="success",s;try{if(b){throw"timeout"}var r=f.dataType=="xml"||P.XMLDocument||e.isXMLDoc(P);o("isXml="+r);if(!r&&window.opera&&(P.body===null||!P.body.innerHTML)){if(--O){o("requeing onLoad callback, DOM not available");setTimeout(M,250);return}}var n=P.body?P.body:P.documentElement;g.responseText=n?n.innerHTML:null;g.responseXML=P.XMLDocument?P.XMLDocument:P;if(r){f.dataType="xml"}g.getResponseHeader=function(e){var t={"content-type":f.dataType};return t[e.toLowerCase()]};if(n){g.status=Number(n.getAttribute("status"))||g.status;g.statusText=n.getAttribute("statusText")||g.statusText}var a=(f.dataType||"").toLowerCase();var l=/(json|script|text)/.test(a);if(l||f.textarea){var c=P.getElementsByTagName("textarea")[0];if(c){g.responseText=c.value;g.status=Number(c.getAttribute("status"))||g.status;g.statusText=c.getAttribute("statusText")||g.statusText}else if(l){var u=P.getElementsByTagName("pre")[0];var d=P.getElementsByTagName("body")[0];if(u){g.responseText=u.textContent?u.textContent:u.innerText}else if(d){g.responseText=d.textContent?d.textContent:d.innerText}}}else if(a=="xml"&&!g.responseXML&&g.responseText){g.responseXML=z(g.responseText)}try{I=E(g,a,f)}catch(_){i="parsererror";g.error=s=_||i}}catch(_){o("error caught: ",_);i="error";g.error=s=_||i}if(g.aborted){o("upload aborted");i=null}if(g.status){i=g.status>=200&&g.status<300||g.status===304?"success":"error"}if(i==="success"){if(f.success){f.success.call(f.context,I,"success",g)}w.resolve(g.responseText,"success",g);if(p){e.event.trigger("ajaxSuccess",[g,f])}}else if(i){if(s===undefined){s=g.statusText}if(f.error){f.error.call(f.context,g,i,s)}w.reject(g,"error",s);if(p){e.event.trigger("ajaxError",[g,f,s])}}if(p){e.event.trigger("ajaxComplete",[g,f])}if(p&&!--e.active){e.event.trigger("ajaxStop")}if(f.complete){f.complete.call(f.context,g,i)}j=true;if(f.timeout){clearTimeout(y)}setTimeout(function(){if(!f.iframeTarget){h.remove()}else{h.attr("src",f.iframeSrc)}g.responseXML=null},100)}var z=e.parseXML||function(e,t){if(window.ActiveXObject){t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(e)}else{t=(new DOMParser).parseFromString(e,"text/xml")}return t&&t.documentElement&&t.documentElement.nodeName!="parsererror"?t:null};var F=e.parseJSON||function(e){return window["eval"]("("+e+")")};var E=function(t,i,s){var r=t.getResponseHeader("content-type")||"",o=i==="xml"||!i&&r.indexOf("xml")>=0,n=o?t.responseXML:t.responseText;if(o&&n.documentElement.nodeName==="parsererror"){if(e.error){e.error("parsererror")}}if(s&&s.dataFilter){n=s.dataFilter(n,i)}if(typeof n==="string"){if(i==="json"||!i&&r.indexOf("json")>=0){n=F(n)}else if(i==="script"||!i&&r.indexOf("javascript")>=0){e.globalEval(n)}}return n};return w}};e.fn.ajaxForm=function(t){t=t||{};t.delegation=t.delegation&&e.isFunction(e.fn.on);if(!t.delegation&&this.length===0){var i={s:this.selector,c:this.context};if(!e.isReady&&i.s){o("DOM not ready, queuing ajaxForm");e(function(){e(i.s,i.c).ajaxForm(t)});return this}o("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)"));return this}if(t.delegation){e(document).off("submit.form-plugin",this.selector,s).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,t,s).on("click.form-plugin",this.selector,t,r);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",t,s).bind("click.form-plugin",t,r)};function s(t){var i=t.data;if(!t.isDefaultPrevented()){t.preventDefault();e(t.target).ajaxSubmit(i)}}function r(t){var i=t.target;var s=e(i);if(!s.is("[type=submit],[type=image]")){var r=s.closest("[type=submit]");if(r.length===0){return}i=r[0]}var o=this;o.clk=i;if(i.type=="image"){if(t.offsetX!==undefined){o.clk_x=t.offsetX;o.clk_y=t.offsetY}else if(typeof e.fn.offset=="function"){var n=s.offset();o.clk_x=t.pageX-n.left;o.clk_y=t.pageY-n.top}else{o.clk_x=t.pageX-i.offsetLeft;o.clk_y=t.pageY-i.offsetTop}}setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};e.fn.formToArray=function(i,s){var r=[];if(this.length===0){return r}var o=this[0];var n=this.attr("id");var a=i?o.getElementsByTagName("*"):o.elements;var l;if(a&&!/MSIE [678]/.test(navigator.userAgent)){a=e(a).get()}if(n){l=e(':input[form="'+n+'"]').get();if(l.length){a=(a||[]).concat(l)}}if(!a||!a.length){return r}var c,f,u,p,d,h,m;for(c=0,h=a.length;c<h;c++){d=a[c];u=d.name;if(!u||d.disabled){continue}if(i&&o.clk&&d.type=="image"){if(o.clk==d){r.push({name:u,value:e(d).val(),type:d.type});r.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y})}continue}p=e.fieldValue(d,true);if(p&&p.constructor==Array){if(s){s.push(d)}for(f=0,m=p.length;f<m;f++){r.push({name:u,value:p[f]})}}else if(t.fileapi&&d.type=="file"){if(s){s.push(d)}var g=d.files;if(g.length){for(f=0;f<g.length;f++){r.push({name:u,value:g[f],type:d.type})}}else{r.push({name:u,value:"",type:d.type})}}else if(p!==null&&typeof p!="undefined"){if(s){s.push(d)}r.push({name:u,value:p,type:d.type,required:d.required})}}if(!i&&o.clk){var _=e(o.clk),v=_[0];u=v.name;if(u&&!v.disabled&&v.type=="image"){r.push({name:u,value:_.val()});r.push({name:u+".x",value:o.clk_x},{name:u+".y",value:o.clk_y})}}return r};e.fn.formSerialize=function(t){return e.param(this.formToArray(t))};e.fn.fieldSerialize=function(t){var i=[];this.each(function(){var s=this.name;if(!s){return}var r=e.fieldValue(this,t);if(r&&r.constructor==Array){for(var o=0,n=r.length;o<n;o++){i.push({name:s,value:r[o]})}}else if(r!==null&&typeof r!="undefined"){i.push({name:this.name,value:r})}});return e.param(i)};e.fn.fieldValue=function(t){for(var i=[],s=0,r=this.length;s<r;s++){var o=this[s];var n=e.fieldValue(o,t);if(n===null||typeof n=="undefined"||n.constructor==Array&&!n.length){continue}if(n.constructor==Array){e.merge(i,n)}else{i.push(n)}}return i};e.fieldValue=function(t,i){var s=t.name,r=t.type,o=t.tagName.toLowerCase();if(i===undefined){i=true}if(i&&(!s||t.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!t.checked||(r=="submit"||r=="image")&&t.form&&t.form.clk!=t||o=="select"&&t.selectedIndex==-1)){return null}if(o=="select"){var n=t.selectedIndex;if(n<0){return null}var a=[],l=t.options;var c=r=="select-one";var f=c?n+1:l.length;for(var u=c?n:0;u<f;u++){var p=l[u];if(p.selected){var d=p.value;if(!d){d=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value}if(c){return d}a.push(d)}}return a}return e(t).val()};e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})};e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var s=this.type,r=this.tagName.toLowerCase();if(i.test(s)||r=="textarea"){this.value=""}else if(s=="checkbox"||s=="radio"){this.checked=false}else if(r=="select"){this.selectedIndex=-1}else if(s=="file"){if(/MSIE/.test(navigator.userAgent)){e(this).replaceWith(e(this).clone(true))}else{e(this).val("")}}else if(t){if(t===true&&/hidden/.test(s)||typeof t=="string"&&e(this).is(t)){this.value=""}}})};e.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType){this.reset()}})};e.fn.enable=function(e){if(e===undefined){e=true}return this.each(function(){this.disabled=!e})};e.fn.selected=function(t){if(t===undefined){t=true}return this.each(function(){var i=this.type;if(i=="checkbox"||i=="radio"){this.checked=t}else if(this.tagName.toLowerCase()=="option"){var s=e(this).parent("select");if(t&&s[0]&&s[0].type=="select-one"){s.find("option").selected(false)}this.selected=t}})};e.fn.ajaxSubmit.debug=false;function o(){if(!e.fn.ajaxSubmit.debug){return}var t="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(t)}else if(window.opera&&window.opera.postError){window.opera.postError(t)}}});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module==="object"&&module.exports){e(require("jquery"))}else{e(jQuery)}})(function(e){var t=false;var i=Object.prototype.toString.call(window.operamini)==="[object OperaMini]";var s="placeholder"in document.createElement("input")&&!i&&!t;var r="placeholder"in document.createElement("textarea")&&!i&&!t;var o=e.valHooks;var n=e.propHooks;var a;var l;var c={};if(s&&r){l=e.fn.placeholder=function(){return this};l.input=true;l.textarea=true}else{l=e.fn.placeholder=function(i){var r={customClass:"placeholder"};c=e.extend({},r,i);return this.filter((s?"textarea":":input")+"["+(t?"placeholder-x":"placeholder")+"]").not("."+c.customClass).not(":radio, :checkbox, :hidden").bind({"focus.placeholder":u,"blur.placeholder":p}).data("placeholder-enabled",true).trigger("blur.placeholder")};l.input=s;l.textarea=r;a={get:function(t){var i=e(t);var s=i.data("placeholder-password");if(s){return s[0].value}return i.data("placeholder-enabled")&&i.hasClass(c.customClass)?"":t.value},set:function(t,i){var s=e(t);var r;var o;if(i!==""){r=s.data("placeholder-textinput");o=s.data("placeholder-password");if(r){u.call(r[0],true,i)||(t.value=i);r[0].value=i}else if(o){u.call(t,true,i)||(o[0].value=i);t.value=i}}if(!s.data("placeholder-enabled")){t.value=i;return s}if(i===""){t.value=i;if(t!=d()){p.call(t)}}else{if(s.hasClass(c.customClass)){u.call(t)}t.value=i}return s}};if(!s){o.input=a;n.value=a}if(!r){o.textarea=a;n.value=a}e(function(){e(document).delegate("form","submit.placeholder",function(){var t=e("."+c.customClass,this).each(function(){u.call(this,true,"")});setTimeout(function(){t.each(p)},10)})});e(window).bind("beforeunload.placeholder",function(){var t=true;try{if(document.activeElement.toString()==="javascript:void(0)"){t=false}}catch(i){}if(t){e("."+c.customClass).each(function(){this.value=""})}})}function f(t){var i={};var s=/^jQuery\d+$/;e.each(t.attributes,function(e,t){if(t.specified&&!s.test(t.name)){i[t.name]=t.value}});return i}function u(i,s){var r=this;var o=e(this);if(r.value===o.attr(t?"placeholder-x":"placeholder")&&o.hasClass(c.customClass)){r.value="";o.removeClass(c.customClass);if(o.data("placeholder-password")){o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id"));if(i===true){o[0].value=s;return s}o.focus()}else{r==d()&&r.select()}}}function p(i){var s;var r=this;var o=e(this);var n=r.id;if(i&&i.type==="blur"&&o.hasClass(c.customClass)){return}if(r.value===""){if(r.type==="password"){if(!o.data("placeholder-textinput")){try{s=o.clone().prop({type:"text"})}catch(a){s=e("<input>").attr(e.extend(f(this),{type:"text"}))}s.removeAttr("name").data({"placeholder-enabled":true,"placeholder-password":o,"placeholder-id":n}).bind("focus.placeholder",u);o.data({"placeholder-textinput":s,"placeholder-id":n}).before(s)}r.value="";o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",o.data("placeholder-id")).show()}else{var l=o.data("placeholder-password");if(l){l[0].value="";o.attr("id",o.data("placeholder-id")).show().nextAll('input[type="password"]:last').hide().removeAttr("id")}}o.addClass(c.customClass);o[0].value=o.attr(t?"placeholder-x":"placeholder")}else{o.removeClass(c.customClass)}}function d(){try{return document.activeElement}catch(e){}}});!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t,i=navigator.userAgent,s=/iphone/i.test(i),r=/chrome/i.test(i),o=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(i,n){var a,l,c,f,u,p,d,h;if(!i&&this.length>0){a=e(this[0]);var m=a.data(e.mask.dataName);return m?m():void 0}return n=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},n),l=e.mask.definitions,c=[],f=d=i.length,u=null,e.each(i.split(""),function(e,t){"?"==t?(d--,f=e):l[t]?(c.push(new RegExp(l[t])),null===u&&(u=c.length-1),f>e&&(p=c.length-1)):c.push(null)}),this.trigger("unmask").each(function(){function a(){if(n.completed){for(var e=u;p>=e;e++)if(c[e]&&I[e]===m(e))return;n.completed.call(C)}}function m(e){return n.placeholder.charAt(e<n.placeholder.length?e:0)}function g(e){for(;++e<d&&!c[e];);return e}function _(e){for(;--e>=0&&!c[e];);return e}function v(e,t){var i,s;if(!(0>e)){for(i=e,s=g(t);d>i;i++)if(c[i]){if(!(d>s&&c[i].test(I[s])))break;I[i]=I[s],I[s]=m(s),s=g(s)}T(),C.caret(Math.max(u,e))}}function b(e){var t,i,s,r;for(t=e,i=m(e);d>t;t++)if(c[t]){if(s=g(t),r=I[t],I[t]=i,!(d>s&&c[s].test(r)))break;i=r}}function y(){var e=C.val(),t=C.caret();if(h&&h.length&&h.length>e.length){for(S(!0);t.begin>0&&!c[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<u&&!c[t.begin];)t.begin++;C.caret(t.begin,t.begin)}else{for(S(!0);t.begin<d&&!c[t.begin];)t.begin++;C.caret(t.begin,t.begin)}a()}function w(){S(),C.val()!=O&&C.change()}function x(e){if(!C.prop("readonly")){var t,i,r,o=e.which||e.keyCode;h=C.val(),8===o||46===o||s&&127===o?(t=C.caret(),i=t.begin,r=t.end,r-i===0&&(i=46!==o?_(i):r=g(i-1),r=46===o?g(r):r),k(i,r),v(i,r-1),e.preventDefault()):13===o?w.call(this,e):27===o&&(C.val(O),C.caret(0,S()),e.preventDefault())}}function $(t){if(!C.prop("readonly")){var i,s,r,n=t.which||t.keyCode,l=C.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>n)&&n&&13!==n){if(l.end-l.begin!==0&&(k(l.begin,l.end),v(l.begin,l.end-1)),i=g(l.begin-1),d>i&&(s=String.fromCharCode(n),c[i].test(s))){if(b(i),I[i]=s,T(),r=g(i),o){var f=function(){e.proxy(e.fn.caret,C,r)()};setTimeout(f,0)}else C.caret(r);l.begin<=p&&a()}t.preventDefault()}}}function k(e,t){var i;for(i=e;t>i&&d>i;i++)c[i]&&(I[i]=m(i))}function T(){C.val(I.join(""))}function S(e){var t,i,s,r=C.val(),o=-1;for(t=0,s=0;d>t;t++)if(c[t]){for(I[t]=m(t);s++<r.length;)if(i=r.charAt(s-1),c[t].test(i)){I[t]=i,o=t;break}if(s>r.length){k(t+1,d);break}}else I[t]===r.charAt(s)&&s++,f>t&&(o=t);return e?T():f>o+1?n.autoclear||I.join("")===P?(C.val()&&C.val(""),k(0,d)):T():(T(),C.val(C.val().substring(0,o+1))),f?t:u}var C=e(this),I=e.map(i.split(""),function(e,t){return"?"!=e?l[e]?m(t):e:void 0}),P=I.join(""),O=C.val();C.data(e.mask.dataName,function(){return e.map(I,function(e,t){return c[t]&&e!=m(t)?e:null}).join("")}),C.one("unmask",function(){C.off(".mask").removeData(e.mask.dataName)}).on("focus.mask",function(){if(!C.prop("readonly")){clearTimeout(t);var e;O=C.val(),e=S(),t=setTimeout(function(){C.get(0)===document.activeElement&&(T(),e==i.replace("?","").length?C.caret(0,e):C.caret(e))},10)}}).on("blur.mask",w).on("keydown.mask",x).on("keypress.mask",$).on("input.mask paste.mask",function(){C.prop("readonly")||setTimeout(function(){var e=S(!0);C.caret(e),a()},0)}),r&&o&&C.off("input.mask").on("input.mask",y),S()})}})});(function(e){if(typeof define==="function"&&define.amd){define(e)}else if(typeof exports==="object"){module.exports=e()}else{var t=window.Cookies;var i=window.Cookies=e();i.noConflict=function(){window.Cookies=t;return i}}})(function(){function e(){var e=0;var t={};for(;e<arguments.length;e++){var i=arguments[e];for(var s in i){t[s]=i[s]}}return t}function t(i){function s(t,r,o){var n;if(arguments.length>1){o=e({path:"/"},s.defaults,o);if(typeof o.expires==="number"){var a=new Date;a.setMilliseconds(a.getMilliseconds()+o.expires*864e5);o.expires=a}try{n=JSON.stringify(r);if(/^[\{\[]/.test(n)){r=n}}catch(l){}if(!i.write){r=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{r=i.write(r,t)}t=encodeURIComponent(String(t));t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);t=t.replace(/[\(\)]/g,escape);return document.cookie=[t,"=",r,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}if(!t){n={}}var c=document.cookie?document.cookie.split("; "):[];var f=/(%[0-9A-Z]{2})+/g;var u=0;for(;u<c.length;u++){var p=c[u].split("=");var d=p[0].replace(f,decodeURIComponent);var h=p.slice(1).join("=");if(h.charAt(0)==='"'){h=h.slice(1,-1)}try{h=i.read?i.read(h,d):i(h,d)||h.replace(f,decodeURIComponent);if(this.json){try{h=JSON.parse(h)}catch(l){}}if(t===d){n=h;break}if(!t){n[d]=h}}catch(l){}}return n}s.get=s.set=s;s.getJSON=function(){return s.apply({json:true},[].slice.call(arguments))};s.defaults={};s.remove=function(t,i){s(t,"",e(i,{expires:-1}))};s.withConverter=t;return s}return t(function(){})});(function(e){var t=/iPhone/i,i=/iPod/i,s=/iPad/i,r=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,o=/Android/i,n=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,a=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/IEMobile/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,u=/BB10/i,p=/Opera Mini/i,d=/(CriOS|Chrome)(?=.*\bMobile\b)/i,h=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=new RegExp("(?:"+"Nexus 7"+"|"+"BNTV250"+"|"+"Kindle Fire"+"|"+"Silk"+"|"+"GT-P1000"+")","i");
var g=function(e,t){return e.test(t)};var _=function(e){var _=e||navigator.userAgent;var v=_.split("[FBAN");if(typeof v[1]!=="undefined"){_=v[0]}this.apple={phone:g(t,_),ipod:g(i,_),tablet:!g(t,_)&&g(s,_),device:g(t,_)||g(i,_)||g(s,_)};this.amazon={phone:g(n,_),tablet:!g(n,_)&&g(a,_),device:g(n,_)||g(a,_)};this.android={phone:g(n,_)||g(r,_),tablet:!g(n,_)&&!g(r,_)&&(g(a,_)||g(o,_)),device:g(n,_)||g(a,_)||g(r,_)||g(o,_)};this.windows={phone:g(l,_),tablet:g(c,_),device:g(l,_)||g(c,_)};this.other={blackberry:g(f,_),blackberry10:g(u,_),opera:g(p,_),firefox:g(h,_),chrome:g(d,_),device:g(f,_)||g(u,_)||g(p,_)||g(h,_)||g(d,_)};this.seven_inch=g(m,_);this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch;this.phone=this.apple.phone||this.android.phone||this.windows.phone;this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet;if(typeof window==="undefined"){return this}};var v=function(){var e=new _;e.Class=_;return e};if(typeof module!=="undefined"&&module.exports&&typeof window==="undefined"){module.exports=_}else if(typeof module!=="undefined"&&module.exports&&typeof window!=="undefined"){module.exports=v()}else if(typeof define==="function"&&define.amd){define("isMobile",[],e.isMobile=v())}else{e.isMobile=v()}})(this);(function(e,t){"$:nomunge";var i=e.jQuery||e.Cowboy||(e.Cowboy={}),s;i.throttle=s=function(e,s,r,o){var n,a=0;if(typeof s!=="boolean"){o=r;r=s;s=t}function l(){var i=this,l=+new Date-a,c=arguments;function f(){a=+new Date;r.apply(i,c)}function u(){n=t}if(o&&!n){f()}n&&clearTimeout(n);if(o===t&&l>e){f()}else if(s!==true){n=setTimeout(o?u:f,o===t?e-l:e)}}if(i.guid){l.guid=r.guid=r.guid||i.guid++}return l};i.debounce=function(e,i,r){return r===t?s(e,i,false):s(e,r,i!==false)}})(this);(function(e){"use strict";if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof module!=="undefined"&&module.exports){module.exports=e(require("jquery"))}else{e(jQuery)}})(function(e){"use strict";var t=e.scrollTo=function(t,i,s){return e(window).scrollTo(t,i,s)};t.defaults={axis:"xy",duration:0,limit:true};function i(t){return!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}e.fn.scrollTo=function(r,o,n){if(typeof o==="object"){n=o;o=0}if(typeof n==="function"){n={onAfter:n}}if(r==="max"){r=9e9}n=e.extend({},t.defaults,n);o=o||n.duration;var a=n.queue&&n.axis.length>1;if(a){o/=2}n.offset=s(n.offset);n.over=s(n.over);return this.each(function(){if(r===null)return;var l=i(this),c=l?this.contentWindow||window:this,f=e(c),u=r,p={},d;switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=s(u);break}u=l?e(u):e(u,c);case"object":if(u.length===0)return;if(u.is||u.style){d=(u=e(u)).offset()}}var h=e.isFunction(n.offset)&&n.offset(c,u)||n.offset;e.each(n.axis.split(""),function(e,i){var s=i==="x"?"Left":"Top",r=s.toLowerCase(),o="scroll"+s,g=f[o](),_=t.max(c,i);if(d){p[o]=d[r]+(l?0:g-f.offset()[r]);if(n.margin){p[o]-=parseInt(u.css("margin"+s),10)||0;p[o]-=parseInt(u.css("border"+s+"Width"),10)||0}p[o]+=h[r]||0;if(n.over[r]){p[o]+=u[i==="x"?"width":"height"]()*n.over[r]}}else{var v=u[r];p[o]=v.slice&&v.slice(-1)==="%"?parseFloat(v)/100*_:v}if(n.limit&&/^\d+$/.test(p[o])){p[o]=p[o]<=0?0:Math.min(p[o],_)}if(!e&&n.axis.length>1){if(g===p[o]){p={}}else if(a){m(n.onAfterFirst);p={}}}});m(n.onAfter);function m(t){var i=e.extend({},n,{queue:true,duration:o,complete:t&&function(){t.call(c,u,n)}});f.animate(p,i)}})};t.max=function(t,s){var r=s==="x"?"Width":"Height",o="scroll"+r;if(!i(t))return t[o]-e(t)[r.toLowerCase()]();var n="client"+r,a=t.ownerDocument||t.document,l=a.documentElement,c=a.body;return Math.max(l[o],c[o])-Math.min(l[n],c[n])};function s(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var i=this.get(t);if(t.options.interrupt&&t._last&&t._last!==i){return e(t.elem).stop()}var s=Math.round(t.now);if(i!==s){e(t.elem)[t.prop](s);t._last=this.get(t)}}};return t});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.sbjs=e()}}(function(){var e,t,i;return function s(e,t,i){function r(n,a){if(!t[n]){if(!e[n]){var l=typeof require=="function"&&require;if(!a&&l)return l(n,!0);if(o)return o(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[n]={exports:{}};e[n][0].call(f.exports,function(t){var i=e[n][1][t];return r(i?i:t)},f,f.exports,s,e,t,i)}return t[n].exports}var o=typeof require=="function"&&require;for(var n=0;n<i.length;n++)r(i[n]);return r}({1:[function(e,t,i){"use strict";var s=e("./init");var r={init:function(e){this.get=s(e);if(e&&e.callback&&typeof e.callback==="function"){e.callback(this.get)}}};t.exports=r},{"./init":6}],2:[function(e,t,i){"use strict";var s=e("./terms"),r=e("./helpers/utils");var o={containers:{current:"sbjs_current",current_extra:"sbjs_current_add",first:"sbjs_first",first_extra:"sbjs_first_add",session:"sbjs_session",udata:"sbjs_udata",promocode:"sbjs_promo"},service:{migrations:"sbjs_migrations"},delimiter:"|||",aliases:{main:{type:"typ",source:"src",medium:"mdm",campaign:"cmp",content:"cnt",term:"trm"},extra:{fire_date:"fd",entrance_point:"ep",referer:"rf"},session:{pages_seen:"pgs",current_page:"cpg"},udata:{visits:"vst",ip:"uip",agent:"uag"},promo:"code"},pack:{main:function(e){return o.aliases.main.type+"="+e.type+o.delimiter+o.aliases.main.source+"="+e.source+o.delimiter+o.aliases.main.medium+"="+e.medium+o.delimiter+o.aliases.main.campaign+"="+e.campaign+o.delimiter+o.aliases.main.content+"="+e.content+o.delimiter+o.aliases.main.term+"="+e.term},extra:function(e){return o.aliases.extra.fire_date+"="+r.setDate(new Date,e)+o.delimiter+o.aliases.extra.entrance_point+"="+document.location.href+o.delimiter+o.aliases.extra.referer+"="+(document.referrer||s.none)},user:function(e,t){return o.aliases.udata.visits+"="+e+o.delimiter+o.aliases.udata.ip+"="+t+o.delimiter+o.aliases.udata.agent+"="+navigator.userAgent},session:function(e){return o.aliases.session.pages_seen+"="+e+o.delimiter+o.aliases.session.current_page+"="+document.location.href},promo:function(e){return o.aliases.promo+"="+r.setLeadingZeroToInt(r.randomInt(e.min,e.max),e.max.toString().length)}}};t.exports=o},{"./helpers/utils":5,"./terms":9}],3:[function(e,t,i){"use strict";var s=e("../data").delimiter;t.exports={encodeData:function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},decodeData:function(e){try{return decodeURIComponent(e).replace(/\%21/g,"!").replace(/\%7E/g,"~").replace(/\%2A/g,"*").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")")}catch(t){try{return unescape(e)}catch(i){return""}}},set:function(e,t,i,s,r){var o,n;if(i){var a=new Date;a.setTime(a.getTime()+i*60*1e3);o="; expires="+a.toGMTString()}else{o=""}if(s&&!r){n=";domain=."+s}else{n=""}document.cookie=this.encodeData(e)+"="+this.encodeData(t)+o+n+"; path=/"},get:function(e){var t=this.encodeData(e)+"=",i=document.cookie.split(";");for(var s=0;s<i.length;s++){var r=i[s];while(r.charAt(0)===" "){r=r.substring(1,r.length)}if(r.indexOf(t)===0){return this.decodeData(r.substring(t.length,r.length))}}return null},destroy:function(e,t,i){this.set(e,"",-1,t,i)},parse:function(e){var t=[],i={};if(typeof e==="string"){t.push(e)}else{for(var r in e){if(e.hasOwnProperty(r)){t.push(e[r])}}}for(var o=0;o<t.length;o++){var n;i[this.unsbjs(t[o])]={};if(this.get(t[o])){n=this.get(t[o]).split(s)}else{n=[]}for(var a=0;a<n.length;a++){var l=n[a].split("="),c=l.splice(0,1);c.push(l.join("="));i[this.unsbjs(t[o])][c[0]]=this.decodeData(c[1])}}return i},unsbjs:function(e){return e.replace("sbjs_","")}}},{"../data":2}],4:[function(e,t,i){"use strict";t.exports={parse:function(e){var t=this.parseOptions,i=t.parser[t.strictMode?"strict":"loose"].exec(e),s={},r=14;while(r--){s[t.key[r]]=i[r]||""}s[t.q.name]={};s[t.key[12]].replace(t.q.parser,function(e,i,r){if(i){s[t.q.name][i]=r}});return s},parseOptions:{strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},getParam:function(e){var t={},i=e?e:window.location.search.substring(1),s=i.split("&");for(var r=0;r<s.length;r++){var o=s[r].split("=");if(typeof t[o[0]]==="undefined"){t[o[0]]=o[1]}else if(typeof t[o[0]]==="string"){var n=[t[o[0]],o[1]];t[o[0]]=n}else{t[o[0]].push(o[1])}}return t},getHost:function(e){return this.parse(e).host.replace("www.","")}}},{}],5:[function(e,t,i){"use strict";t.exports={escapeRegexp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},setDate:function(e,t){var i=e.getTimezoneOffset()/60,s=e.getHours(),r=t||-i;e.setHours(s+i+r);var o=e.getFullYear(),n=this.setLeadingZeroToInt(e.getMonth()+1,2),a=this.setLeadingZeroToInt(e.getDate(),2),l=this.setLeadingZeroToInt(e.getHours(),2),c=this.setLeadingZeroToInt(e.getMinutes(),2),f=this.setLeadingZeroToInt(e.getSeconds(),2);return o+"-"+n+"-"+a+" "+l+":"+c+":"+f},setLeadingZeroToInt:function(e,t){var i=e+"";while(i.length<t){i="0"+i}return i},randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}}},{}],6:[function(e,t,i){"use strict";var s=e("./data"),r=e("./terms"),o=e("./helpers/cookies"),n=e("./helpers/uri"),a=e("./helpers/utils"),l=e("./params"),c=e("./migrations");t.exports=function(e){var t=l.fetch(e);var i=n.getParam();var f=t.domain.host,u=t.domain.isolate,p=t.lifetime;c.go(p,f,u);var d,h,m,g,_,v;function b(){var e;if(typeof i.utm_source!=="undefined"||typeof i.utm_medium!=="undefined"||typeof i.utm_campaign!=="undefined"||typeof i.utm_content!=="undefined"||typeof i.utm_term!=="undefined"||typeof i.gclid!=="undefined"||typeof i[t.campaign_param]!=="undefined"){S();e=y(r.traffic.utm)}else if(x(r.traffic.organic)){S();e=y(r.traffic.organic)}else if(!o.get(s.containers.session)&&x(r.traffic.referral)){S();e=y(r.traffic.referral)}else if(!o.get(s.containers.first)&&!o.get(s.containers.current)){S();e=y(r.traffic.typein)}else{return o.get(s.containers.current)}return e}function y(e){switch(e){case r.traffic.utm:d=r.traffic.utm;if(typeof i.utm_source!=="undefined"){h=i.utm_source}else if(typeof i.gclid!=="undefined"){h="google"}else{h=r.none}if(typeof i.utm_medium!=="undefined"){m=i.utm_medium}else if(typeof i.gclid!=="undefined"){m="cpc"}else{m=r.none}if(typeof i.utm_campaign!=="undefined"){g=i.utm_campaign}else if(typeof i[t.campaign_param]!=="undefined"){g=i[t.campaign_param]}else if(typeof i.gclid!=="undefined"){g="google_cpc"}else{g=r.none}_=i.utm_content||r.none;v=w()||r.none;break;case r.traffic.organic:d=r.traffic.organic;h=h||n.getHost(document.referrer);m=r.referer.organic;g=r.none;_=r.none;v=r.none;break;case r.traffic.referral:d=r.traffic.referral;h=h||n.getHost(document.referrer);m=m||r.referer.referral;g=r.none;_=n.parse(document.referrer).path;v=r.none;break;case r.traffic.typein:d=r.traffic.typein;h=t.typein_attributes.source;m=t.typein_attributes.medium;g=r.none;_=r.none;v=r.none;break;default:d=r.oops;h=r.oops;m=r.oops;g=r.oops;_=r.oops;v=r.oops}var o={type:d,source:h,medium:m,campaign:g,content:_,term:v};return s.pack.main(o)}function w(){var e=document.referrer;if(i.utm_term){return i.utm_term}else if(e&&n.parse(e).host&&n.parse(e).host.match(/^(?:.*\.)?yandex\..{2,9}$/i)){try{return n.getParam(n.parse(document.referrer).query).text}catch(t){return false}}else{return false}}function x(e){var t=document.referrer;switch(e){case r.traffic.organic:return!!t&&$(t)&&k(t);case r.traffic.referral:return!!t&&$(t)&&T(t);default:return false}}function $(e){if(t.domain){if(!u){var i=new RegExp("^(?:.*\\.)?"+a.escapeRegexp(f)+"$","i");return!n.getHost(e).match(i)}else{return n.getHost(e)!==n.getHost(f)}}else{return n.getHost(e)!==n.getHost(document.location.href)}}function k(e){var i="yandex",s="text",r="google";var o=new RegExp("^(?:.*\\.)?"+a.escapeRegexp(i)+"\\..{2,9}$"),l=new RegExp(".*"+a.escapeRegexp(s)+"=.*"),c=new RegExp("^(?:www\\.)?"+a.escapeRegexp(r)+"\\..{2,9}$");if(!!n.parse(e).query&&!!n.parse(e).host.match(o)&&!!n.parse(e).query.match(l)){h=i;return true}else if(!!n.parse(e).host.match(c)){h=r;return true}else if(!!n.parse(e).query){for(var f=0;f<t.organics.length;f++){if(n.parse(e).host.match(new RegExp("^(?:.*\\.)?"+a.escapeRegexp(t.organics[f].host)+"$","i"))&&n.parse(e).query.match(new RegExp(".*"+a.escapeRegexp(t.organics[f].param)+"=.*","i"))){h=t.organics[f].display||t.organics[f].host;return true}if(f+1===t.organics.length){return false}}}else{return false}}function T(e){if(t.referrals.length>0){for(var i=0;i<t.referrals.length;i++){if(n.parse(e).host.match(new RegExp("^(?:.*\\.)?"+a.escapeRegexp(t.referrals[i].host)+"$","i"))){h=t.referrals[i].display||t.referrals[i].host;m=t.referrals[i].medium||r.referer.referral;return true}if(i+1===t.referrals.length){h=n.getHost(e);return true}}}else{h=n.getHost(e);return true}}function S(){o.set(s.containers.current_extra,s.pack.extra(t.timezone_offset),p,f,u);if(!o.get(s.containers.first_extra)){o.set(s.containers.first_extra,s.pack.extra(t.timezone_offset),p,f,u)}}(function C(){o.set(s.containers.current,b(),p,f,u);if(!o.get(s.containers.first)){o.set(s.containers.first,o.get(s.containers.current),p,f,u)}var e,i;if(!o.get(s.containers.udata)){e=1;i=s.pack.user(e,t.user_ip)}else{e=parseInt(o.parse(s.containers.udata)[o.unsbjs(s.containers.udata)][s.aliases.udata.visits])||1;e=o.get(s.containers.session)?e:e+1;i=s.pack.user(e,t.user_ip)}o.set(s.containers.udata,i,p,f,u);var r;if(!o.get(s.containers.session)){r=1}else{r=parseInt(o.parse(s.containers.session)[o.unsbjs(s.containers.session)][s.aliases.session.pages_seen])||1;r+=1}o.set(s.containers.session,s.pack.session(r),t.session_length,f,u);if(t.promocode&&!o.get(s.containers.promocode)){o.set(s.containers.promocode,s.pack.promo(t.promocode),p,f,u)}})();return o.parse(s.containers)}},{"./data":2,"./helpers/cookies":3,"./helpers/uri":4,"./helpers/utils":5,"./migrations":7,"./params":8,"./terms":9}],7:[function(e,t,i){"use strict";var s=e("./data"),r=e("./helpers/cookies");t.exports={go:function(e,t,i){var o=this.migrations,n={l:e,d:t,i:i};var a;if(!r.get(s.containers.first)&&!r.get(s.service.migrations)){var l=[];for(a=0;a<o.length;a++){l.push(o[a].id)}var c="";for(a=0;a<l.length;a++){c+=l[a]+"=1";if(a<l.length-1){c+=s.delimiter}}r.set(s.service.migrations,c,n.l,n.d,n.i)}else if(!r.get(s.service.migrations)){for(a=0;a<o.length;a++){o[a].go(o[a].id,n)}}},migrations:[{id:"1418474375998",version:"1.0.0-beta",go:function(e,t){var i=e+"=1",o=e+"=0";var n=function(e,t,i){return t||i?e:s.delimiter};try{var a=[];for(var l in s.containers){if(s.containers.hasOwnProperty(l)){a.push(s.containers[l])}}for(var c=0;c<a.length;c++){if(r.get(a[c])){var f=r.get(a[c]).replace(/(\|)?\|(\|)?/g,n);r.destroy(a[c],t.d,t.i);r.destroy(a[c],t.d,!t.i);r.set(a[c],f,t.l,t.d,t.i)}}if(r.get(s.containers.session)){r.set(s.containers.session,s.pack.session(0),t.l,t.d,t.i)}r.set(s.service.migrations,i,t.l,t.d,t.i)}catch(u){r.set(s.service.migrations,o,t.l,t.d,t.i)}}}]}},{"./data":2,"./helpers/cookies":3}],8:[function(e,t,i){"use strict";var s=e("./terms"),r=e("./helpers/uri");t.exports={fetch:function(e){var t=e||{},i={};i.lifetime=this.validate.checkFloat(t.lifetime)||6;i.lifetime=parseInt(i.lifetime*30*24*60);i.session_length=this.validate.checkInt(t.session_length)||30;i.timezone_offset=this.validate.checkInt(t.timezone_offset);i.campaign_param=t.campaign_param||false;i.user_ip=t.user_ip||s.none;if(t.promocode){i.promocode={};i.promocode.min=parseInt(t.promocode.min)||1e5;i.promocode.max=parseInt(t.promocode.max)||999999}else{i.promocode=false}if(t.typein_attributes&&t.typein_attributes.source&&t.typein_attributes.medium){i.typein_attributes={};i.typein_attributes.source=t.typein_attributes.source;i.typein_attributes.medium=t.typein_attributes.medium}else{i.typein_attributes={source:"(direct)",medium:"(none)"}}if(t.domain&&this.validate.isString(t.domain)){i.domain={host:t.domain,isolate:false}}else if(t.domain&&t.domain.host){i.domain=t.domain}else{i.domain={host:r.getHost(document.location.hostname),isolate:false}}i.referrals=[];if(t.referrals&&t.referrals.length>0){for(var o=0;o<t.referrals.length;o++){if(t.referrals[o].host){i.referrals.push(t.referrals[o])}}}i.organics=[];if(t.organics&&t.organics.length>0){for(var n=0;n<t.organics.length;n++){if(t.organics[n].host&&t.organics[n].param){i.organics.push(t.organics[n])}}}i.organics.push({host:"bing.com",param:"q",display:"bing"});i.organics.push({host:"yahoo.com",param:"p",display:"yahoo"});i.organics.push({host:"about.com",param:"q",display:"about"});i.organics.push({host:"aol.com",param:"q",display:"aol"});i.organics.push({host:"ask.com",param:"q",display:"ask"});i.organics.push({host:"globososo.com",param:"q",display:"globo"});i.organics.push({host:"go.mail.ru",param:"q",display:"go.mail.ru"});i.organics.push({host:"rambler.ru",param:"query",display:"rambler"});i.organics.push({host:"tut.by",param:"query",display:"tut.by"});i.referrals.push({host:"t.co",display:"twitter.com"});i.referrals.push({host:"plus.url.google.com",display:"plus.google.com"});return i},validate:{checkFloat:function(e){return e&&this.isNumeric(parseFloat(e))?parseFloat(e):false},checkInt:function(e){return e&&this.isNumeric(parseInt(e))?parseInt(e):false},isNumeric:function(e){return!isNaN(e)},isString:function(e){return Object.prototype.toString.call(e)==="[object String]"}}}},{"./helpers/uri":4,"./terms":9}],9:[function(e,t,i){"use strict";t.exports={traffic:{utm:"utm",organic:"organic",referral:"referral",typein:"typein"},referer:{referral:"referral",organic:"organic",social:"social"},none:"(none)",oops:"(Houston, we have a problem)"}},{}]},{},[1])(1)});(function(e,t,i,s,r){"use strict";var o=0;var n=function(){var t=s.userAgent,i=/msie\s\d+/i,r;if(t.search(i)>0){r=i.exec(t).toString();r=r.split(" ")[1];if(r<9){e("html").addClass("lt-ie9");return true}}return false}();if(!Function.prototype.bind){Function.prototype.bind=function p(e){var t=this;var i=[].slice;if(typeof t!="function"){throw new TypeError}var s=i.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=t.prototype;var n=new o;var a=t.apply(n,s.concat(i.call(arguments)));if(Object(a)===a){return a}return n}else{return t.apply(e,s.concat(i.call(arguments)))}};return r}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e,t){var i;if(this==null){throw new TypeError('"this" is null or not defined')}var s=Object(this);var r=s.length>>>0;if(r===0){return-1}var o=+t||0;if(Math.abs(o)===Infinity){o=0}if(o>=r){return-1}i=Math.max(o>=0?o:r-Math.abs(o),0);while(i<r){if(i in s&&s[i]===e){return i}i++}return-1}}var a='<span class="irs">'+'<span class="irs-line" tabindex="-1"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span>'+'<span class="irs-min">0</span><span class="irs-max">1</span>'+'<span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span>'+"</span>"+'<span class="irs-grid"></span>'+'<span class="irs-bar"></span>';var l='<span class="irs-bar-edge"></span>'+'<span class="irs-shadow shadow-single"></span>'+'<span class="irs-slider single"></span>';var c='<span class="irs-shadow shadow-from"></span>'+'<span class="irs-shadow shadow-to"></span>'+'<span class="irs-slider from"></span>'+'<span class="irs-slider to"></span>';var f='<span class="irs-disable-mask"></span>';var u=function(s,r,o){this.VERSION="2.1.2";this.input=s;this.plugin_count=o;this.current_plugin=0;this.calc_count=0;this.update_tm=0;this.old_from=0;this.old_to=0;this.old_min_interval=null;this.raf_id=null;this.dragging=false;this.force_redraw=false;this.no_diapason=false;this.is_key=false;this.is_update=false;this.is_start=true;this.is_finish=false;this.is_active=false;this.is_resize=false;this.is_click=false;this.$cache={win:e(i),body:e(t.body),input:e(s),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var n=this.$cache.input,a=n.prop("value"),l,c,f;l={type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:false,values:[],p_values:[],from_fixed:false,from_min:null,from_max:null,from_shadow:false,to_fixed:false,to_min:null,to_max:null,to_shadow:false,prettify_enabled:true,prettify_separator:" ",prettify:null,force_edges:false,keyboard:false,keyboard_step:5,grid:false,grid_margin:true,grid_num:4,grid_snap:false,hide_min_max:false,hide_from_to:false,prefix:"",postfix:"",max_postfix:"",decorate_both:true,values_separator:" — ",input_values_separator:";",disable:false,onStart:null,onChange:null,onFinish:null,onUpdate:null};c={type:n.data("type"),min:n.data("min"),max:n.data("max"),from:n.data("from"),to:n.data("to"),step:n.data("step"),min_interval:n.data("minInterval"),max_interval:n.data("maxInterval"),drag_interval:n.data("dragInterval"),values:n.data("values"),from_fixed:n.data("fromFixed"),from_min:n.data("fromMin"),from_max:n.data("fromMax"),from_shadow:n.data("fromShadow"),to_fixed:n.data("toFixed"),to_min:n.data("toMin"),to_max:n.data("toMax"),to_shadow:n.data("toShadow"),prettify_enabled:n.data("prettifyEnabled"),prettify_separator:n.data("prettifySeparator"),force_edges:n.data("forceEdges"),keyboard:n.data("keyboard"),keyboard_step:n.data("keyboardStep"),grid:n.data("grid"),grid_margin:n.data("gridMargin"),grid_num:n.data("gridNum"),grid_snap:n.data("gridSnap"),hide_min_max:n.data("hideMinMax"),hide_from_to:n.data("hideFromTo"),prefix:n.data("prefix"),postfix:n.data("postfix"),max_postfix:n.data("maxPostfix"),decorate_both:n.data("decorateBoth"),values_separator:n.data("valuesSeparator"),input_values_separator:n.data("inputValuesSeparator"),disable:n.data("disable")};c.values=c.values&&c.values.split(",");for(f in c){if(c.hasOwnProperty(f)){if(!c[f]&&c[f]!==0){delete c[f]}}}if(a){a=a.split(c.input_values_separator||r.input_values_separator||";");if(a[0]&&a[0]==+a[0]){a[0]=+a[0]}if(a[1]&&a[1]==+a[1]){a[1]=+a[1]}if(r&&r.values&&r.values.length){l.from=a[0]&&r.values.indexOf(a[0]);l.to=a[1]&&r.values.indexOf(a[1])}else{l.from=a[0]&&+a[0];l.to=a[1]&&+a[1]}}e.extend(l,r);e.extend(l,c);this.options=l;this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};u.prototype={init:function(e){this.no_diapason=false;this.coords.p_step=this.convertToPercent(this.options.step,true);this.target="base";this.toggleInput();this.append();this.setMinMax();if(e){this.force_redraw=true;this.calc(true);this.callOnUpdate()}else{this.force_redraw=true;this.calc(true);this.callOnStart()}this.updateScene()},append:function(){var e='<span class="irs js-irs-'+this.plugin_count+'"></span>';this.$cache.input.before(e);this.$cache.input.prop("readonly",true);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html(a);this.$cache.rs=this.$cache.cont.find(".irs");this.$cache.min=this.$cache.cont.find(".irs-min");this.$cache.max=this.$cache.cont.find(".irs-max");this.$cache.from=this.$cache.cont.find(".irs-from");this.$cache.to=this.$cache.cont.find(".irs-to");this.$cache.single=this.$cache.cont.find(".irs-single");this.$cache.bar=this.$cache.cont.find(".irs-bar");this.$cache.line=this.$cache.cont.find(".irs-line");this.$cache.grid=this.$cache.cont.find(".irs-grid");if(this.options.type==="single"){this.$cache.cont.append(l);this.$cache.edge=this.$cache.cont.find(".irs-bar-edge");this.$cache.s_single=this.$cache.cont.find(".single");this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.shad_single=this.$cache.cont.find(".shadow-single")}else{this.$cache.cont.append(c);this.$cache.s_from=this.$cache.cont.find(".from");this.$cache.s_to=this.$cache.cont.find(".to");this.$cache.shad_from=this.$cache.cont.find(".shadow-from");this.$cache.shad_to=this.$cache.cont.find(".shadow-to");this.setTopHandler()}if(this.options.hide_from_to){this.$cache.from[0].style.display="none";this.$cache.to[0].style.display="none";this.$cache.single[0].style.display="none"}this.appendGrid();if(this.options.disable){this.appendDisableMask();this.$cache.input[0].disabled=true}else{this.$cache.cont.removeClass("irs-disabled");this.$cache.input[0].disabled=false;this.bindEvents()}if(this.options.drag_interval){this.$cache.bar[0].style.cursor="ew-resize"}},setTopHandler:function(){var e=this.options.min,t=this.options.max,i=this.options.from,s=this.options.to;if(i>e&&s===t){this.$cache.s_from.addClass("type_last")}else if(s<t){this.$cache.s_to.addClass("type_last")}},changeLevel:function(e){switch(e){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.$cache.s_from.addClass("state_hover");this.$cache.s_from.addClass("type_last");this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass("state_hover");this.$cache.s_to.addClass("type_last");this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer);this.$cache.s_to.removeClass("type_last");this.$cache.s_from.removeClass("type_last");break}},appendDisableMask:function(){this.$cache.cont.append(f);this.$cache.cont.addClass("irs-disabled")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off("keydown.irs_"+this.plugin_count);this.$cache.body.off("touchmove.irs_"+this.plugin_count);this.$cache.body.off("mousemove.irs_"+this.plugin_count);this.$cache.win.off("touchend.irs_"+this.plugin_count);this.$cache.win.off("mouseup.irs_"+this.plugin_count);if(n){this.$cache.body.off("mouseup.irs_"+this.plugin_count);this.$cache.body.off("mouseleave.irs_"+this.plugin_count)}this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(this.no_diapason){return}this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this));this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));if(this.options.drag_interval&&this.options.type==="double"){this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))}else{this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.type==="single"){this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single"));this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}else{this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null));this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from"));this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to"));this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"));this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))}if(this.options.keyboard){this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard"))}if(n){this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this));this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))}},pointerMove:function(e){if(!this.dragging){return}var t=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;this.coords.x_pointer=t-this.coords.x_gap;this.calc()},pointerUp:function(t){if(this.current_plugin!==this.plugin_count){return}if(this.is_active){this.is_active=false}else{return}this.$cache.cont.find(".state_hover").removeClass("state_hover");this.force_redraw=true;if(n){e("*").prop("unselectable",false)}this.updateScene();this.restoreOriginalMinInterval();if(e.contains(this.$cache.cont[0],t.target)||this.dragging){this.is_finish=true;this.callOnFinish()}this.dragging=false},pointerDown:function(t,i){i.preventDefault();var s=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;if(i.button===2){return}if(t==="both"){this.setTempMinInterval()}if(!t){t=this.target}this.current_plugin=this.plugin_count;this.target=t;this.is_active=true;this.dragging=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=s-this.coords.x_gap;this.calcPointerPercent();this.changeLevel(t);if(n){e("*").prop("unselectable",true)}this.$cache.line.trigger("focus");this.updateScene()},pointerClick:function(e,t){t.preventDefault();
var i=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;if(t.button===2){return}this.current_plugin=this.plugin_count;this.target=e;this.is_click=true;this.coords.x_gap=this.$cache.rs.offset().left;this.coords.x_pointer=+(i-this.coords.x_gap).toFixed();this.force_redraw=true;this.calc();this.$cache.line.trigger("focus")},key:function(e,t){if(this.current_plugin!==this.plugin_count||t.altKey||t.ctrlKey||t.shiftKey||t.metaKey){return}switch(t.which){case 83:case 65:case 40:case 37:t.preventDefault();this.moveByKey(false);break;case 87:case 68:case 38:case 39:t.preventDefault();this.moveByKey(true);break}return true},moveByKey:function(e){var t=this.coords.p_pointer;if(e){t+=this.options.keyboard_step}else{t-=this.options.keyboard_step}this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*t);this.is_key=true;this.calc()},setMinMax:function(){if(!this.options){return}if(this.options.hide_min_max){this.$cache.min[0].style.display="none";this.$cache.max[0].style.display="none";return}if(this.options.values.length){this.$cache.min.html(this.decorate(this.options.p_values[this.options.min]));this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))}else{this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min));this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(false);this.labels.w_max=this.$cache.max.outerWidth(false)},setTempMinInterval:function(){var e=this.result.to-this.result.from;if(this.old_min_interval===null){this.old_min_interval=this.options.min_interval}this.options.min_interval=e},restoreOriginalMinInterval:function(){if(this.old_min_interval!==null){this.options.min_interval=this.old_min_interval;this.old_min_interval=null}},calc:function(e){if(!this.options){return}this.calc_count++;if(this.calc_count===10||e){this.calc_count=0;this.coords.w_rs=this.$cache.rs.outerWidth(false);this.calcHandlePercent()}if(!this.coords.w_rs){return}this.calcPointerPercent();var t=this.getHandleX();if(this.target==="click"){this.coords.p_gap=this.coords.p_handle/2;t=this.getHandleX();if(this.options.drag_interval){this.target="both_one"}else{this.target=this.chooseHandle(t)}}switch(this.target){case"base":var i=(this.options.max-this.options.min)/100,s=(this.result.from-this.options.min)/i,r=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(s);this.coords.p_from_real=this.toFixed(s);this.coords.p_to_real=this.toFixed(r);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case"single":if(this.options.from_fixed){break}this.coords.p_single_real=this.convertToRealPercent(t);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed){break}this.coords.p_from_real=this.convertToRealPercent(t);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);if(this.coords.p_from_real>this.coords.p_to_real){this.coords.p_from_real=this.coords.p_to_real}this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed){break}this.coords.p_to_real=this.convertToRealPercent(t);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);if(this.coords.p_to_real<this.coords.p_from_real){this.coords.p_to_real=this.coords.p_from_real}this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed){break}t=this.toFixed(t+this.coords.p_handle*.1);this.coords.p_from_real=this.convertToRealPercent(t)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(t)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed){break}var o=this.convertToRealPercent(t),n=this.result.from_percent,a=this.result.to_percent,l=a-n,c=l/2,f=o-c,u=o+c;if(f<0){f=0;u=f+l}if(u>100){u=100;f=u-l}this.coords.p_from_real=this.calcWithStep(f);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(u);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break}if(this.options.type==="single"){this.coords.p_bar_x=this.coords.p_handle/2;this.coords.p_bar_w=this.coords.p_single_fake;this.result.from_percent=this.coords.p_single_real;this.result.from=this.convertToValue(this.coords.p_single_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from]}}else{this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2);this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake);this.result.from_percent=this.coords.p_from_real;this.result.from=this.convertToValue(this.coords.p_from_real);this.result.to_percent=this.coords.p_to_real;this.result.to=this.convertToValue(this.coords.p_to_real);if(this.options.values.length){this.result.from_value=this.options.values[this.result.from];this.result.to_value=this.options.values[this.result.to]}}this.calcMinMax();this.calcLabels()},calcPointerPercent:function(){if(!this.coords.w_rs){this.coords.p_pointer=0;return}if(this.coords.x_pointer<0||isNaN(this.coords.x_pointer)){this.coords.x_pointer=0}else if(this.coords.x_pointer>this.coords.w_rs){this.coords.x_pointer=this.coords.w_rs}this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(e){var t=100-this.coords.p_handle;return e/t*100},convertToFakePercent:function(e){var t=100-this.coords.p_handle;return e/100*t},getHandleX:function(){var e=100-this.coords.p_handle,t=this.toFixed(this.coords.p_pointer-this.coords.p_gap);if(t<0){t=0}else if(t>e){t=e}return t},calcHandlePercent:function(){if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(e){if(this.options.type==="single"){return"single"}else{var t=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2;if(e>=t){return this.options.to_fixed?"from":"to"}else{return this.options.from_fixed?"to":"from"}}},calcMinMax:function(){if(!this.coords.w_rs){return}this.labels.p_min=this.labels.w_min/this.coords.w_rs*100;this.labels.p_max=this.labels.w_max/this.coords.w_rs*100},calcLabels:function(){if(!this.coords.w_rs||this.options.hide_from_to){return}if(this.options.type==="single"){this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}else{this.labels.w_from=this.$cache.from.outerWidth(false);this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100;this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2;this.labels.p_from_left=this.toFixed(this.labels.p_from_left);this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake);this.labels.w_to=this.$cache.to.outerWidth(false);this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100;this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2;this.labels.p_to_left=this.toFixed(this.labels.p_to_left);this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake);this.labels.w_single=this.$cache.single.outerWidth(false);this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100;this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2;this.labels.p_single_left=this.toFixed(this.labels.p_single_left);this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)}},updateScene:function(){if(this.raf_id){cancelAnimationFrame(this.raf_id);this.raf_id=null}clearTimeout(this.update_tm);this.update_tm=null;if(!this.options){return}this.drawHandles();if(this.is_active){this.raf_id=requestAnimationFrame(this.updateScene.bind(this))}else{this.update_tm=setTimeout(this.updateScene.bind(this),300)}},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.coords.w_rs!==this.coords.w_rs_old){this.target="base";this.is_resize=true}if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw){this.setMinMax();this.calc(true);this.drawLabels();if(this.options.grid){this.calcGridMargin();this.calcGridLabels()}this.force_redraw=true;this.coords.w_rs_old=this.coords.w_rs;this.drawShadow()}if(!this.coords.w_rs){return}if(!this.dragging&&!this.force_redraw&&!this.is_key){return}if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+"%";this.$cache.bar[0].style.width=this.coords.p_bar_w+"%";if(this.options.type==="single"){this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%";this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value)}else{this.$cache.input.prop("value",this.result.from)}this.$cache.input.data("from",this.result.from)}else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%";this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%";if(this.old_from!==this.result.from||this.force_redraw){this.$cache.from[0].style.left=this.labels.p_from_left+"%"}if(this.old_to!==this.result.to||this.force_redraw){this.$cache.to[0].style.left=this.labels.p_to_left+"%"}this.$cache.single[0].style.left=this.labels.p_single_left+"%";if(this.options.values.length){this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value)}else{this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to)}this.$cache.input.data("from",this.result.from);this.$cache.input.data("to",this.result.to)}if((this.old_from!==this.result.from||this.old_to!==this.result.to)&&!this.is_start){this.$cache.input.trigger("change")}this.old_from=this.result.from;this.old_to=this.result.to;if(!this.is_resize&&!this.is_update&&!this.is_start&&!this.is_finish){this.callOnChange()}if(this.is_key||this.is_click){this.is_key=false;this.is_click=false;this.callOnFinish()}this.is_update=false;this.is_resize=false;this.is_finish=false}this.is_start=false;this.is_key=false;this.is_click=false;this.force_redraw=false},drawLabels:function(){if(!this.options){return}var e=this.options.values.length,t=this.options.p_values,i,s,r;if(this.options.hide_from_to){return}if(this.options.type==="single"){if(e){i=this.decorate(t[this.result.from]);this.$cache.single.html(i)}else{i=this.decorate(this._prettify(this.result.from),this.result.from);this.$cache.single.html(i)}this.calcLabels();if(this.labels.p_single_left<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}else{if(e){if(this.options.decorate_both){i=this.decorate(t[this.result.from]);i+=this.options.values_separator;i+=this.decorate(t[this.result.to])}else{i=this.decorate(t[this.result.from]+this.options.values_separator+t[this.result.to])}s=this.decorate(t[this.result.from]);r=this.decorate(t[this.result.to]);this.$cache.single.html(i);this.$cache.from.html(s);this.$cache.to.html(r)}else{if(this.options.decorate_both){i=this.decorate(this._prettify(this.result.from),this.result.from);i+=this.options.values_separator;i+=this.decorate(this._prettify(this.result.to),this.result.to)}else{i=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to)}s=this.decorate(this._prettify(this.result.from),this.result.from);r=this.decorate(this._prettify(this.result.to),this.result.to);this.$cache.single.html(i);this.$cache.from.html(s);this.$cache.to.html(r)}this.calcLabels();var o=Math.min(this.labels.p_single_left,this.labels.p_from_left),n=this.labels.p_single_left+this.labels.p_single_fake,a=this.labels.p_to_left+this.labels.p_to_fake,l=Math.max(n,a);if(this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left){this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";if(this.result.from===this.result.to){if(this.target==="from"){this.$cache.from[0].style.visibility="visible"}else if(this.target==="to"){this.$cache.to[0].style.visibility="visible"}this.$cache.single[0].style.visibility="hidden";l=a}else{this.$cache.from[0].style.visibility="hidden";this.$cache.to[0].style.visibility="hidden";this.$cache.single[0].style.visibility="visible";l=Math.max(n,a)}}else{this.$cache.from[0].style.visibility="visible";this.$cache.to[0].style.visibility="visible";this.$cache.single[0].style.visibility="hidden"}if(o<this.labels.p_min+1){this.$cache.min[0].style.visibility="hidden"}else{this.$cache.min[0].style.visibility="visible"}if(l>100-this.labels.p_max-1){this.$cache.max[0].style.visibility="hidden"}else{this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var e=this.options,t=this.$cache,i=typeof e.from_min==="number"&&!isNaN(e.from_min),s=typeof e.from_max==="number"&&!isNaN(e.from_max),r=typeof e.to_min==="number"&&!isNaN(e.to_min),o=typeof e.to_max==="number"&&!isNaN(e.to_max),n,a,l,c;if(e.type==="single"){if(e.from_shadow&&(i||s)){n=this.convertToPercent(i?e.from_min:e.min);a=this.convertToPercent(s?e.from_max:e.max)-n;n=this.toFixed(n-this.coords.p_handle/100*n);a=this.toFixed(a-this.coords.p_handle/100*a);n=n+this.coords.p_handle/2;t.shad_single[0].style.display="block";t.shad_single[0].style.left=n+"%";t.shad_single[0].style.width=a+"%"}else{t.shad_single[0].style.display="none"}}else{if(e.from_shadow&&(i||s)){n=this.convertToPercent(i?e.from_min:e.min);a=this.convertToPercent(s?e.from_max:e.max)-n;n=this.toFixed(n-this.coords.p_handle/100*n);a=this.toFixed(a-this.coords.p_handle/100*a);n=n+this.coords.p_handle/2;t.shad_from[0].style.display="block";t.shad_from[0].style.left=n+"%";t.shad_from[0].style.width=a+"%"}else{t.shad_from[0].style.display="none"}if(e.to_shadow&&(r||o)){l=this.convertToPercent(r?e.to_min:e.min);c=this.convertToPercent(o?e.to_max:e.max)-l;l=this.toFixed(l-this.coords.p_handle/100*l);c=this.toFixed(c-this.coords.p_handle/100*c);l=l+this.coords.p_handle/2;t.shad_to[0].style.display="block";t.shad_to[0].style.left=l+"%";t.shad_to[0].style.width=c+"%"}else{t.shad_to[0].style.display="none"}}},callOnStart:function(){if(this.options.onStart&&typeof this.options.onStart==="function"){this.options.onStart(this.result)}},callOnChange:function(){if(this.options.onChange&&typeof this.options.onChange==="function"){this.options.onChange(this.result)}},callOnFinish:function(){if(this.options.onFinish&&typeof this.options.onFinish==="function"){this.options.onFinish(this.result)}},callOnUpdate:function(){if(this.options.onUpdate&&typeof this.options.onUpdate==="function"){this.options.onUpdate(this.result)}},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input")},convertToPercent:function(e,t){var i=this.options.max-this.options.min,s=i/100,r,o;if(!i){this.no_diapason=true;return 0}if(t){r=e}else{r=e-this.options.min}o=r/s;return this.toFixed(o)},convertToValue:function(e){var t=this.options.min,i=this.options.max,s=t.toString().split(".")[1],r=i.toString().split(".")[1],o,n,a=0,l=0;if(e===0){return this.options.min}if(e===100){return this.options.max}if(s){o=s.length;a=o}if(r){n=r.length;a=n}if(o&&n){a=o>=n?o:n}if(t<0){l=Math.abs(t);t=+(t+l).toFixed(a);i=+(i+l).toFixed(a)}var c=(i-t)/100*e+t,f=this.options.step.toString().split(".")[1],u;if(f){c=+c.toFixed(f.length)}else{c=c/this.options.step;c=c*this.options.step;c=+c.toFixed(0)}if(l){c-=l}if(f){u=+c.toFixed(f.length)}else{u=this.toFixed(c)}if(u<this.options.min){u=this.options.min}else if(u>this.options.max){u=this.options.max}return u},calcWithStep:function(e){var t=Math.round(e/this.coords.p_step)*this.coords.p_step;if(t>100){t=100}if(e===100){t=100}return this.toFixed(t)},checkMinInterval:function(e,t,i){var s=this.options,r,o;if(!s.min_interval){return e}r=this.convertToValue(e);o=this.convertToValue(t);if(i==="from"){if(o-r<s.min_interval){r=o-s.min_interval}}else{if(r-o<s.min_interval){r=o+s.min_interval}}return this.convertToPercent(r)},checkMaxInterval:function(e,t,i){var s=this.options,r,o;if(!s.max_interval){return e}r=this.convertToValue(e);o=this.convertToValue(t);if(i==="from"){if(o-r>s.max_interval){r=o-s.max_interval}}else{if(r-o>s.max_interval){r=o+s.max_interval}}return this.convertToPercent(r)},checkDiapason:function(e,t,i){var s=this.convertToValue(e),r=this.options;if(typeof t!=="number"){t=r.min}if(typeof i!=="number"){i=r.max}if(s<t){s=t}if(s>i){s=i}return this.convertToPercent(s)},toFixed:function(e){e=e.toFixed(9);return+e},_prettify:function(e){if(!this.options.prettify_enabled){return e}if(this.options.prettify&&typeof this.options.prettify==="function"){return this.options.prettify(e)}else{return this.prettify(e)}},prettify:function(e){var t=e.toString();return t.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(e,t){if(!this.options.force_edges){return this.toFixed(e)}if(e<0){e=0}else if(e>100-t){e=100-t}return this.toFixed(e)},validate:function(){var e=this.options,t=this.result,i=e.values,s=i.length,r,o;if(typeof e.min==="string")e.min=+e.min;if(typeof e.max==="string")e.max=+e.max;if(typeof e.from==="string")e.from=+e.from;if(typeof e.to==="string")e.to=+e.to;if(typeof e.step==="string")e.step=+e.step;if(typeof e.from_min==="string")e.from_min=+e.from_min;if(typeof e.from_max==="string")e.from_max=+e.from_max;if(typeof e.to_min==="string")e.to_min=+e.to_min;if(typeof e.to_max==="string")e.to_max=+e.to_max;if(typeof e.keyboard_step==="string")e.keyboard_step=+e.keyboard_step;if(typeof e.grid_num==="string")e.grid_num=+e.grid_num;if(e.max<e.min){e.max=e.min}if(s){e.p_values=[];e.min=0;e.max=s-1;e.step=1;e.grid_num=e.max;e.grid_snap=true;for(o=0;o<s;o++){r=+i[o];if(!isNaN(r)){i[o]=r;r=this._prettify(r)}else{r=i[o]}e.p_values.push(r)}}if(typeof e.from!=="number"||isNaN(e.from)){e.from=e.min}if(typeof e.to!=="number"||isNaN(e.from)){e.to=e.max}if(e.type==="single"){if(e.from<e.min){e.from=e.min}if(e.from>e.max){e.from=e.max}}else{if(e.from<e.min||e.from>e.max){e.from=e.min}if(e.to>e.max||e.to<e.min){e.to=e.max}if(e.from>e.to){e.from=e.to}}if(typeof e.step!=="number"||isNaN(e.step)||!e.step||e.step<0){e.step=1}if(typeof e.keyboard_step!=="number"||isNaN(e.keyboard_step)||!e.keyboard_step||e.keyboard_step<0){e.keyboard_step=5}if(typeof e.from_min==="number"&&e.from<e.from_min){e.from=e.from_min}if(typeof e.from_max==="number"&&e.from>e.from_max){e.from=e.from_max}if(typeof e.to_min==="number"&&e.to<e.to_min){e.to=e.to_min}if(typeof e.to_max==="number"&&e.from>e.to_max){e.to=e.to_max}if(t){if(t.min!==e.min){t.min=e.min}if(t.max!==e.max){t.max=e.max}if(t.from<t.min||t.from>t.max){t.from=e.from}if(t.to<t.min||t.to>t.max){t.to=e.to}}if(typeof e.min_interval!=="number"||isNaN(e.min_interval)||!e.min_interval||e.min_interval<0){e.min_interval=0}if(typeof e.max_interval!=="number"||isNaN(e.max_interval)||!e.max_interval||e.max_interval<0){e.max_interval=0}if(e.min_interval&&e.min_interval>e.max-e.min){e.min_interval=e.max-e.min}if(e.max_interval&&e.max_interval>e.max-e.min){e.max_interval=e.max-e.min}},decorate:function(e,t){var i="",s=this.options;if(s.prefix){i+=s.prefix}i+=e;if(s.max_postfix){if(s.values.length&&e===s.p_values[s.max]){i+=s.max_postfix;if(s.postfix){i+=" "}}else if(t===s.max){i+=s.max_postfix;if(s.postfix){i+=" "}}}if(s.postfix){i+=s.postfix}return i},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);if(this.options.values){this.result.from_value=this.options.values[this.result.from]}},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);if(this.options.values){this.result.to_value=this.options.values[this.result.to]}},updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(!this.options.grid){return}var e=this.options,t,i,s=e.max-e.min,r=e.grid_num,o=0,n=0,a=4,l,c,f=0,u,p="";this.calcGridMargin();if(e.grid_snap){r=s/e.step;o=this.toFixed(e.step/(s/100))}else{o=this.toFixed(100/r)}if(r>4){a=3}if(r>7){a=2}if(r>14){a=1}if(r>28){a=0}for(t=0;t<r+1;t++){l=a;n=this.toFixed(o*t);if(n>100){n=100;l-=2;if(l<0){l=0}}this.coords.big[t]=n;c=(n-o*(t-1))/(l+1);for(i=1;i<=l;i++){if(n===0){break}f=this.toFixed(n-c*i);p+='<span class="irs-grid-pol small" style="left: '+f+'%"></span>'}p+='<span class="irs-grid-pol" style="left: '+n+'%"></span>';u=this.convertToValue(n);if(e.values.length){u=e.p_values[u]}else{u=this._prettify(u)}p+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+n+'%">'+u+"</span>"}this.coords.big_num=Math.ceil(r+1);this.$cache.cont.addClass("irs-with-grid");this.$cache.grid.html(p);this.cacheGridLabels()},cacheGridLabels:function(){var e,t,i=this.coords.big_num;for(t=0;t<i;t++){e=this.$cache.grid.find(".js-grid-text-"+t);this.$cache.grid_labels.push(e)}this.calcGridLabels()},calcGridLabels:function(){var e,t,i=[],s=[],r=this.coords.big_num;for(e=0;e<r;e++){this.coords.big_w[e]=this.$cache.grid_labels[e].outerWidth(false);this.coords.big_p[e]=this.toFixed(this.coords.big_w[e]/this.coords.w_rs*100);this.coords.big_x[e]=this.toFixed(this.coords.big_p[e]/2);i[e]=this.toFixed(this.coords.big[e]-this.coords.big_x[e]);s[e]=this.toFixed(i[e]+this.coords.big_p[e])}if(this.options.force_edges){if(i[0]<-this.coords.grid_gap){i[0]=-this.coords.grid_gap;s[0]=this.toFixed(i[0]+this.coords.big_p[0]);this.coords.big_x[0]=this.coords.grid_gap}if(s[r-1]>100+this.coords.grid_gap){s[r-1]=100+this.coords.grid_gap;i[r-1]=this.toFixed(s[r-1]-this.coords.big_p[r-1]);this.coords.big_x[r-1]=this.toFixed(this.coords.big_p[r-1]-this.coords.grid_gap)}}this.calcGridCollision(2,i,s);this.calcGridCollision(4,i,s);for(e=0;e<r;e++){t=this.$cache.grid_labels[e][0];t.style.marginLeft=-this.coords.big_x[e]+"%"}},calcGridCollision:function(e,t,i){var s,r,o,n=this.coords.big_num;for(s=0;s<n;s+=e){r=s+e/2;if(r>=n){break}o=this.$cache.grid_labels[r][0];if(i[s]<=t[r]){o.style.visibility="visible"}else{o.style.visibility="hidden"}}},calcGridMargin:function(){if(!this.options.grid_margin){return}this.coords.w_rs=this.$cache.rs.outerWidth(false);if(!this.coords.w_rs){return}if(this.options.type==="single"){this.coords.w_handle=this.$cache.s_single.outerWidth(false)}else{this.coords.w_handle=this.$cache.s_from.outerWidth(false)}this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100);this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1);this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%";this.$cache.grid[0].style.left=this.coords.grid_gap+"%"},update:function(t){if(!this.input){return}this.is_update=true;this.options.from=this.result.from;this.options.to=this.result.to;this.options=e.extend(this.options,t);this.validate();this.updateResult(t);this.toggleInput();this.remove();this.init(true)},reset:function(){if(!this.input){return}this.updateResult();this.update()},destroy:function(){if(!this.input){return}this.toggleInput();this.$cache.input.prop("readonly",false);e.data(this.input,"ionRangeSlider",null);this.remove();this.input=null;this.options=null}};e.fn.ionRangeSlider=function(t){return this.each(function(){if(!e.data(this,"ionRangeSlider")){e.data(this,"ionRangeSlider",new u(this,t,(o++)))}})};(function(){var e=0;var t=["ms","moz","webkit","o"];for(var s=0;s<t.length&&!i.requestAnimationFrame;++s){i.requestAnimationFrame=i[t[s]+"RequestAnimationFrame"];i.cancelAnimationFrame=i[t[s]+"CancelAnimationFrame"]||i[t[s]+"CancelRequestAnimationFrame"]}if(!i.requestAnimationFrame)i.requestAnimationFrame=function(t,s){var r=(new Date).getTime();var o=Math.max(0,16-(r-e));var n=i.setTimeout(function(){t(r+o)},o);e=r+o;return n};if(!i.cancelAnimationFrame)i.cancelAnimationFrame=function(e){clearTimeout(e)}})()})(jQuery,document,window,navigator);(function($){if($.fn.carouFredSel){return}$.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0],starting_position=false;if($cfs.data("_cfs_isCarousel")){starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",true])}var FN={};FN._init=function(e,t,i){e=go_getObject($tt0,e);e.items=go_getItemsObject($tt0,e.items);e.scroll=go_getScrollObject($tt0,e.scroll);e.auto=go_getAutoObject($tt0,e.auto);e.prev=go_getPrevNextObject($tt0,e.prev);e.next=go_getPrevNextObject($tt0,e.next);e.pagination=go_getPaginationObject($tt0,e.pagination);e.swipe=go_getSwipeObject($tt0,e.swipe);e.mousewheel=go_getMousewheelObject($tt0,e.mousewheel);if(t){opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,e)}opts=$.extend(true,{},$.fn.carouFredSel.defaults,e);opts.d=cf_getDimensions(opts);crsl.direction=opts.direction=="up"||opts.direction=="left"?"next":"prev";var s=$cfs.children(),r=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)){opts.cookie="caroufredsel_cookie_"+conf.serialNumber}opts.maxDimension=ms_getMaxDimension(opts,r);opts.items=in_complementItems(opts.items,opts,s,i);opts[opts.d["width"]]=in_complementPrimarySize(opts[opts.d["width"]],opts,s);opts[opts.d["height"]]=in_complementSecondarySize(opts[opts.d["height"]],opts,s);if(opts.responsive){if(!is_percentage(opts[opts.d["width"]])){opts[opts.d["width"]]="100%"}}if(is_percentage(opts[opts.d["width"]])){crsl.upDateOnWindowResize=true;crsl.primarySizePercentage=opts[opts.d["width"]];opts[opts.d["width"]]=ms_getPercentage(r,crsl.primarySizePercentage);if(!opts.items.visible){opts.items.visibleConf.variable=true}}if(opts.responsive){opts.usePadding=false;opts.padding=[0,0,0,0];opts.align=false;opts.items.visibleConf.variable=false}else{if(!opts.items.visible){opts=in_complementVisibleItems(opts,r)}if(!opts[opts.d["width"]]){if(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d["width"]])&&opts.items.filter=="*"){opts[opts.d["width"]]=opts.items.visible*opts.items[opts.d["width"]];opts.align=false}else{opts[opts.d["width"]]="variable"}}if(is_undefined(opts.align)){opts.align=is_number(opts[opts.d["width"]])?"center":false}if(opts.items.visibleConf.variable){opts.items.visible=gn_getVisibleItemsNext(s,opts,0)}}if(opts.items.filter!="*"&&!opts.items.visibleConf.variable){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(s,opts,0)}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;if(opts.responsive){if(!opts.items.visibleConf.min){opts.items.visibleConf.min=opts.items.visible}if(!opts.items.visibleConf.max){opts.items.visibleConf.max=opts.items.visible}opts=in_getResponsiveValues(opts,s,r)}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top"){opts.align="left"}else if(opts.align=="bottom"){opts.align="right"}switch(opts.align){case"center":case"left":case"right":if(opts[opts.d["width"]]!="variable"){opts=in_getAlignPadding(opts,s);opts.usePadding=true}break;default:opts.align=false;opts.usePadding=opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0?false:true;break}}if(!is_number(opts.scroll.duration)){opts.scroll.duration=500}if(is_undefined(opts.scroll.items)){opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||opts.items.filter!="*"?"visible":opts.items.visible}opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);opts.auto=go_complementAutoObject($tt0,opts.auto);opts.prev=go_complementPrevNextObject($tt0,opts.prev);opts.next=go_complementPrevNextObject($tt0,opts.next);opts.pagination=go_complementPaginationObject($tt0,opts.pagination);opts.swipe=go_complementSwipeObject($tt0,opts.swipe);opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel);if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(opts.auto.onPauseStart){opts.auto.onTimeoutStart=opts.auto.onPauseStart;deprecated("auto.onPauseStart","auto.onTimeoutStart")}if(opts.auto.onPausePause){opts.auto.onTimeoutPause=opts.auto.onPausePause;deprecated("auto.onPausePause","auto.onTimeoutPause")}if(opts.auto.onPauseEnd){opts.auto.onTimeoutEnd=opts.auto.onPauseEnd;deprecated("auto.onPauseEnd","auto.onTimeoutEnd")}if(opts.auto.pauseDuration){opts.auto.timeoutDuration=opts.auto.pauseDuration;deprecated("auto.pauseDuration","auto.timeoutDuration")}};FN._build=function(){$cfs.data("_cfs_isCarousel",true);var e=$cfs.children(),t=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),i="relative";switch(t.position){case"absolute":case"fixed":i=t.position;break}if(conf.wrapper=="parent"){sz_storeOrigCss($wrp)}else{$wrp.css(t)}$wrp.css({overflow:"hidden",
position:i});sz_storeOrigCss($cfs);$cfs.data("_cfs_origCssZindex",t.zIndex);$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});sz_storeMargin(e,opts);sz_storeOrigCss(e);if(opts.responsive){sz_setResponsiveSizes(opts,e)}};FN._bind_events=function(){FN._unbind_events();$cfs.bind(cf_e("stop",conf),function(e,t){e.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),t)}return true});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(e,t,i){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(t&&crsl.isScrolling){scrl.isStopped=true;var s=getTime()-scrl.startTime;scrl.duration-=s;if(scrl.pre){scrl.pre.duration-=s}if(scrl.post){scrl.post.duration-=s}sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(i){tmrs.timePassed+=getTime()-tmrs.startTime}}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onTimeoutPause){var r=opts.auto.timeoutDuration-tmrs.timePassed,o=100-Math.ceil(r*100/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,o,r)}return true});$cfs.bind(cf_e("play",conf),function(e,t,i,s){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var r=[t,i,s],o=["string","number","boolean"],n=cf_sortParams(r,o);t=n[0];i=n[1];s=n[2];if(t!="prev"&&t!="next"){t=crsl.direction}if(!is_number(i)){i=0}if(!is_boolean(s)){s=false}if(s){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var a=opts.auto.timeoutDuration+i;dur2=a-tmrs.timePassed;perc=100-Math.ceil(dur2*100/a);if(opts.auto.progress){tmrs.progress=setInterval(function(){var e=getTime()-tmrs.startTime+tmrs.timePassed,t=Math.ceil(e*100/a);opts.auto.progress.updater.call(opts.auto.progress.bar[0],t)},opts.auto.progress.interval)}tmrs.auto=setTimeout(function(){if(opts.auto.progress){opts.auto.progress.updater.call(opts.auto.progress.bar[0],100)}if(opts.auto.onTimeoutEnd){opts.auto.onTimeoutEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),t)}else{$cfs.trigger(cf_e(t,conf),opts.auto)}},dur2);if(opts.auto.onTimeoutStart){opts.auto.onTimeoutStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl,conf)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,t,i,s,r){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}var o=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(o>itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+" total, "+o+" needed): Not scrolling.")}var n=[t,i,s,r],a=["object","number/string","function","boolean"],l=cf_sortParams(n,a);t=l[0];i=l[1];s=l[2];r=l[3];var c=e.type.slice(conf.events.prefix.length);if(!is_object(t)){t={}}if(is_function(s)){t.onAfter=s}if(is_boolean(r)){t.queue=r}t=$.extend(true,{},opts[c],t);if(t.conditions&&!t.conditions.call($tt0,c)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}if(!is_number(i)){if(opts.items.filter!="*"){i="visible"}else{var f=[i,t.items,opts[c].items];for(var l=0,u=f.length;l<u;l++){if(is_number(f[l])||f[l]=="page"||f[l]=="visible"){i=f[l];break}}}switch(i){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(cf_e(c+"Page",conf),[t,s]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){i=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[c,[t,i,s]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(t.duration>0){if(crsl.isScrolling){if(t.queue){if(t.queue=="last"){queu=[]}if(t.queue!="first"||queu.length==0){$cfs.trigger(cf_e("queue",conf),[c,[t,i,s]])}}e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}tmrs.timePassed=0;$cfs.trigger(cf_e("slide_"+c,conf),[t,i]);if(opts.synchronise){var p=opts.synchronise,d=[t,i];for(var h=0,u=p.length;h<u;h++){var m=c;if(!p[h][2]){m=m=="prev"?"next":"prev"}if(!p[h][1]){d[0]=p[h][0].triggerHandler("_cfs_triggerEvent",["configuration",m])}d[1]=i+p[h][3];p[h][0].trigger("_cfs_triggerEvent",["slide_"+m,d])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(e,t,i){e.stopPropagation();var s=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(s,opts);if(!is_number(i)){if(opts.items.visibleConf.variable){i=gn_getVisibleItemsPrev(s,opts,itms.total-1)}else if(opts.items.filter!="*"){var r=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsPrevFilter(s,opts,itms.total-1,r)}else{i=opts.items.visible}i=cf_getAdjust(i,opts,t.items,$tt0)}if(!opts.circular){if(itms.total-i<itms.first){i=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var o=cf_getItemsAdjust(gn_getVisibleItemsNext(s,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0);if(opts.items.visible+i<=o&&i<itms.total){i++;o=cf_getItemsAdjust(gn_getVisibleItemsNext(s,opts,itms.total-i),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=o}else if(opts.items.filter!="*"){var o=gn_getVisibleItemsNextFilter(s,opts,itms.total-i);opts.items.visible=cf_getItemsAdjust(o,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(s,opts,true);if(i==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+i+" items backward.");itms.first+=i;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&t.onEnd){t.onEnd.call($tt0,"prev")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}$cfs.children().slice(itms.total-i,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+i){$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(true).appendTo($cfs)}var s=$cfs.children(),n=gi_getOldItemsPrev(s,opts,i),a=gi_getNewItemsPrev(s,opts),l=s.eq(i-1),c=n.last(),f=a.last();sz_resetMargin(s,opts);var u=0,p=0;if(opts.align){var d=cf_getAlignPadding(a,opts);u=d[0];p=d[1]}var h=u<0?opts.padding[opts.d[3]]:0;var m=false,g=$();if(opts.items.visible<i){g=s.slice(opts.items.visibleConf.old,i);if(t.fx=="directscroll"){var _=opts.items[opts.d["width"]];m=g;l=f;sc_hideHiddenItems(m);opts.items[opts.d["width"]]="variable"}}var v=false,b=ms_getTotalSize(s.slice(0,i),opts,"width"),y=cf_mapWrapperSizes(ms_getSizes(a,opts,true),opts,!opts.usePadding),w=0,x={},k={},T={},S={},C={},I={},P={},O=sc_getDuration(t,opts,i,b);switch(t.fx){case"cover":case"cover-fade":w=ms_getTotalSize(s.slice(0,opts.items.visible),opts,"width");break}if(m){opts.items[opts.d["width"]]=_}sz_resetMargin(s,opts,true);if(p>=0){sz_resetMargin(c,opts,opts.padding[opts.d[1]])}if(u>=0){sz_resetMargin(l,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=p;opts.padding[opts.d[3]]=u}I[opts.d["left"]]=-(b-h);P[opts.d["left"]]=-(w-h);k[opts.d["left"]]=y[opts.d["width"]];var j=function(){},M=function(){},z=function(){},F=function(){},E=function(){},A=function(){},D=function(){},N=function(){},H=function(){},R=function(){},L=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":v=$cfs.clone(true).appendTo($wrp);break}switch(t.fx){case"crossfade":case"uncover":case"uncover-fade":v.children().slice(0,i).remove();v.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":v.children().slice(opts.items.visible).remove();v.css(P);break}$cfs.css(I);scrl=sc_setScroll(O,t.easing,conf);x[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){j=function(){$wrp.css(y)};M=function(){scrl.anims.push([$wrp,y])}}if(opts.usePadding){if(f.not(l).length){T[opts.d["marginRight"]]=l.data("_cfs_origCssMargin");if(u<0){l.css(T)}else{D=function(){l.css(T)};N=function(){scrl.anims.push([l,T])}}}switch(t.fx){case"cover":case"cover-fade":v.children().eq(i-1).css(T);break}if(f.not(c).length){S[opts.d["marginRight"]]=c.data("_cfs_origCssMargin");z=function(){c.css(S)};F=function(){scrl.anims.push([c,S])}}if(p>=0){C[opts.d["marginRight"]]=f.data("_cfs_origCssMargin")+opts.padding[opts.d[1]];E=function(){f.css(C)};A=function(){scrl.anims.push([f,C])}}}L=function(){$cfs.css(x)};var q=opts.items.visible+i-itms.total;R=function(){if(q>0){$cfs.children().slice(itms.total).remove();n=$($cfs.children().slice(itms.total-(opts.items.visible-q)).get().concat($cfs.children().slice(0,q).get()))}sc_showHiddenItems(m);if(opts.usePadding){var e=$cfs.children().eq(opts.items.visible+i-1);e.css(opts.d["marginRight"],e.data("_cfs_origCssMargin"))}};var W=sc_mapCallbackArguments(n,g,a,i,"prev",O,y);H=function(){sc_afterScroll($cfs,v,t);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",W,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",W,clbk);switch(t.fx){case"none":$cfs.css(x);j();z();E();D();L();R();H();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){j();z();E();D();L();R();scrl=sc_setScroll(O,t.easing,conf);scrl.anims.push([$cfs,{opacity:1},H]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([v,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},H]);M();z();E();D();L();R();break;case"cover":scrl.anims.push([v,x,function(){z();E();D();L();R();H()}]);M();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]);scrl.anims.push([v,x,function(){z();E();D();L();R();H()}]);M();break;case"uncover":scrl.anims.push([v,k,H]);M();z();E();D();L();R();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([v,k,H]);M();z();E();D();L();R();break;default:scrl.anims.push([$cfs,x,function(){R();H()}]);M();F();A();N();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,y]);return true});$cfs.bind(cf_e("slide_next",conf),function(e,t,i){e.stopPropagation();var s=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return e.stopImmediatePropagation()}}sz_resetMargin(s,opts);if(!is_number(i)){if(opts.items.filter!="*"){var r=is_number(t.items)?t.items:gn_getVisibleOrg($cfs,opts);i=gn_getScrollItemsNextFilter(s,opts,0,r)}else{i=opts.items.visible}i=cf_getAdjust(i,opts,t.items,$tt0)}var o=itms.first==0?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var n=gn_getVisibleItemsNext(s,opts,i),r=gn_getVisibleItemsPrev(s,opts,o-1)}else{var n=opts.items.visible,r=opts.items.visible}if(i+n>o){i=o-r}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var n=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(s,opts,i,o),opts,opts.items.visibleConf.adjust,$tt0);while(opts.items.visible-i>=n&&i<itms.total){i++;n=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(s,opts,i,o),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=n}else if(opts.items.filter!="*"){var n=gn_getVisibleItemsNextFilter(s,opts,i);opts.items.visible=cf_getItemsAdjust(n,opts,opts.items.visibleConf.adjust,$tt0)}sz_resetMargin(s,opts,true);if(i==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+i+" items forward.");itms.first-=i;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&t.onEnd){t.onEnd.call($tt0,"next")}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}if(itms.total<opts.items.visible+i){$cfs.children().slice(0,opts.items.visible+i-itms.total).clone(true).appendTo($cfs)}var s=$cfs.children(),a=gi_getOldItemsNext(s,opts),l=gi_getNewItemsNext(s,opts,i),c=s.eq(i-1),f=a.last(),u=l.last();sz_resetMargin(s,opts);var p=0,d=0;if(opts.align){var h=cf_getAlignPadding(l,opts);p=h[0];d=h[1]}var m=false,g=$();if(opts.items.visibleConf.old<i){g=s.slice(opts.items.visibleConf.old,i);if(t.fx=="directscroll"){var _=opts.items[opts.d["width"]];m=g;c=f;sc_hideHiddenItems(m);opts.items[opts.d["width"]]="variable"}}var v=false,b=ms_getTotalSize(s.slice(0,i),opts,"width"),y=cf_mapWrapperSizes(ms_getSizes(l,opts,true),opts,!opts.usePadding),w=0,x={},k={},T={},S={},C={},I=sc_getDuration(t,opts,i,b);switch(t.fx){case"uncover":case"uncover-fade":w=ms_getTotalSize(s.slice(0,opts.items.visibleConf.old),opts,"width");break}if(m){opts.items[opts.d["width"]]=_}if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}sz_resetMargin(s,opts,true);sz_resetMargin(f,opts,opts.padding[opts.d[1]]);if(opts.align){opts.padding[opts.d[1]]=d;opts.padding[opts.d[3]]=p}C[opts.d["left"]]=opts.usePadding?opts.padding[opts.d[3]]:0;var P=function(){},O=function(){},j=function(){},M=function(){},z=function(){},F=function(){},E=function(){},A=function(){},D=function(){};switch(t.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":v=$cfs.clone(true).appendTo($wrp);v.children().slice(opts.items.visibleConf.old).remove();break}switch(t.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1);v.css("zIndex",0);break}scrl=sc_setScroll(I,t.easing,conf);x[opts.d["left"]]=-b;k[opts.d["left"]]=-w;if(p<0){x[opts.d["left"]]+=p}if(opts[opts.d["width"]]=="variable"||opts[opts.d["height"]]=="variable"){P=function(){$wrp.css(y)};O=function(){scrl.anims.push([$wrp,y])}}if(opts.usePadding){var N=u.data("_cfs_origCssMargin");if(d>=0){N+=opts.padding[opts.d[1]]}u.css(opts.d["marginRight"],N);if(c.not(f).length){S[opts.d["marginRight"]]=f.data("_cfs_origCssMargin")}j=function(){f.css(S)};M=function(){scrl.anims.push([f,S])};var H=c.data("_cfs_origCssMargin");if(p>0){H+=opts.padding[opts.d[3]]}T[opts.d["marginRight"]]=H;z=function(){c.css(T)};F=function(){scrl.anims.push([c,T])}}D=function(){$cfs.css(C)};var R=opts.items.visible+i-itms.total;A=function(){if(R>0){$cfs.children().slice(itms.total).remove()}var e=$cfs.children().slice(0,i).appendTo($cfs).last();if(R>0){l=gi_getCurrentItems(s,opts)}sc_showHiddenItems(m);if(opts.usePadding){if(itms.total<opts.items.visible+i){var t=$cfs.children().eq(opts.items.visible-1);t.css(opts.d["marginRight"],t.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}e.css(opts.d["marginRight"],e.data("_cfs_origCssMargin"))}};var L=sc_mapCallbackArguments(a,g,l,i,"next",I,y);E=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex"));sc_afterScroll($cfs,v,t);crsl.isScrolling=false;clbk.onAfter=sc_fireCallbacks($tt0,t,"onAfter",L,clbk);queu=sc_fireQueue($cfs,queu,conf);if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);clbk.onBefore=sc_fireCallbacks($tt0,t,"onBefore",L,clbk);switch(t.fx){case"none":$cfs.css(x);P();j();z();D();A();E();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){P();j();z();D();A();scrl=sc_setScroll(I,t.easing,conf);scrl.anims.push([$cfs,{opacity:1},E]);sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0});scrl.anims.push([v,{opacity:0}]);scrl.anims.push([$cfs,{opacity:1},E]);O();j();z();D();A();break;case"cover":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([$cfs,C,E]);O();j();z();A();break;case"cover-fade":$cfs.css(opts.d["left"],$wrp[opts.d["width"]]());scrl.anims.push([v,{opacity:0}]);scrl.anims.push([$cfs,C,E]);O();j();z();A();break;case"uncover":scrl.anims.push([v,k,E]);O();j();z();D();A();break;case"uncover-fade":$cfs.css({opacity:0});scrl.anims.push([$cfs,{opacity:1}]);scrl.anims.push([v,k,E]);O();j();z();D();A();break;default:scrl.anims.push([$cfs,x,function(){D();A();E()}]);O();M();F();break}sc_startScroll(scrl,conf);cf_setCookie(opts.cookie,$cfs,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[false,y]);return true});$cfs.bind(cf_e("slideTo",conf),function(e,t,i,s,r,o,n){e.stopPropagation();var a=[t,i,s,r,o,n],l=["string/number/object","number","boolean","object","string","function"],c=cf_sortParams(a,l);r=c[3];o=c[4];n=c[5];t=gn_getItemIndex(c[0],c[1],c[2],itms,$cfs);if(t==0){return false}if(!is_object(r)){r=false}if(o!="prev"&&o!="next"){if(opts.circular){o=t<=itms.total/2?"next":"prev"}else{o=itms.first==0||itms.first>t?"next":"prev"}}if(o=="prev"){t=itms.total-t}$cfs.trigger(cf_e(o,conf),[r,t,n]);return true});$cfs.bind(cf_e("prevPage",conf),function(e,t,i){e.stopPropagation();var s=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[s-1,t,"prev",i])});$cfs.bind(cf_e("nextPage",conf),function(e,t,i){e.stopPropagation();var s=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[s+1,t,"next",i])});$cfs.bind(cf_e("slideToPage",conf),function(e,t,i,s,r){e.stopPropagation();if(!is_number(t)){t=$cfs.triggerHandler(cf_e("currentPage",conf))}var o=opts.pagination.items||opts.items.visible,n=Math.ceil(itms.total/o)-1;if(t<0){t=n}if(t>n){t=0}return $cfs.triggerHandler(cf_e("slideTo",conf),[t*o,0,true,i,s,r])});$cfs.bind(cf_e("jumpToStart",conf),function(e,t){e.stopPropagation();if(t){t=gn_getItemIndex(t,0,true,itms,$cfs)}else{t=0}t+=itms.first;if(t!=0){if(itms.total>0){while(t>itms.total){t-=itms.total}}$cfs.prepend($cfs.children().slice(t,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(e,t){e.stopPropagation();if(t){t=cf_getSynchArr(t)}else if(opts.synchronise){t=opts.synchronise}else{return debug(conf,"No carousel to synchronise.")}var i=$cfs.triggerHandler(cf_e("currentPosition",conf)),s=true;for(var r=0,o=t.length;r<o;r++){if(!t[r][0].triggerHandler(cf_e("slideTo",conf),[i,t[r][3],true])){s=false}}return s});$cfs.bind(cf_e("queue",conf),function(e,t,i){e.stopPropagation();if(is_function(t)){t.call($tt0,queu)}else if(is_array(t)){queu=t}else if(!is_undefined(t)){queu.push([t,i])}return queu});$cfs.bind(cf_e("insertItem",conf),function(e,t,i,s,r){e.stopPropagation();var o=[t,i,s,r],n=["string/object","string/number/object","boolean","number"],a=cf_sortParams(o,n);t=a[0];i=a[1];s=a[2];r=a[3];if(is_object(t)&&!is_jquery(t)){t=$(t)}else if(is_string(t)){t=$(t)}if(!is_jquery(t)||t.length==0){return debug(conf,"Not a valid object.")}if(is_undefined(i)){i="end"}sz_storeMargin(t,opts);sz_storeOrigCss(t);var l=i,c="before";if(i=="end"){if(s){if(itms.first==0){i=itms.total-1;c="after"}else{i=itms.first;itms.first+=t.length}if(i<0){i=0}}else{i=itms.total-1;c="after"}}else{i=gn_getItemIndex(i,r,s,itms,$cfs)}var f=$cfs.children().eq(i);if(f.length){f[c](t)}else{debug(conf,"Correct insert-position not found! Appending item to the end.");$cfs.append(t)}if(l!="end"&&!s){if(i<itms.first){itms.first+=t.length}}itms.total=$cfs.children().length;if(itms.first>=itms.total){itms.first-=itms.total}$cfs.trigger(cf_e("updateSizes",conf));$cfs.trigger(cf_e("linkAnchors",conf));return true});$cfs.bind(cf_e("removeItem",conf),function(e,t,i,s){e.stopPropagation();var r=[t,i,s],o=["string/number/object","boolean","number"],n=cf_sortParams(r,o);t=n[0];i=n[1];s=n[2];var a=false;if(t instanceof $&&t.length>1){l=$();t.each(function(e,t){var r=$cfs.trigger(cf_e("removeItem",conf),[$(this),i,s]);if(r){l=l.add(r)}});return l}if(is_undefined(t)||t=="end"){l=$cfs.children().last()}else{t=gn_getItemIndex(t,s,i,itms,$cfs);var l=$cfs.children().eq(t);if(l.length){if(t<itms.first){itms.first-=l.length}}}if(l&&l.length){l.detach();itms.total=$cfs.children().length;$cfs.trigger(cf_e("updateSizes",conf))}return l});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,t){e.stopPropagation();var i=e.type.slice(conf.events.prefix.length);if(is_array(t)){clbk[i]=t}if(is_function(t)){clbk[i].push(t)}return clbk[i]});$cfs.bind(cf_e("currentPosition",conf),function(e,t){e.stopPropagation();if(itms.first==0){var i=0}else{var i=itms.total-itms.first}if(is_function(t)){t.call($tt0,i)}return i});$cfs.bind(cf_e("currentPage",conf),function(e,t){e.stopPropagation();var i=opts.pagination.items||opts.items.visible,s=Math.ceil(itms.total/i-1),r;if(itms.first==0){r=0}else if(itms.first<itms.total%i){r=0}else if(itms.first==i&&!opts.circular){r=s}else{r=Math.round((itms.total-itms.first)/i)}if(r<0){r=0}if(r>s){r=s}if(is_function(t)){t.call($tt0,r)}return r});$cfs.bind(cf_e("currentVisible",conf),function(e,t){e.stopPropagation();var i=gi_getCurrentItems($cfs.children(),opts);if(is_function(t)){t.call($tt0,i)}return i});$cfs.bind(cf_e("slice",conf),function(e,t,i,s){e.stopPropagation();if(itms.total==0){return false}var r=[t,i,s],o=["number","number","function"],n=cf_sortParams(r,o);t=is_number(n[0])?n[0]:0;i=is_number(n[1])?n[1]:itms.total;s=n[2];t+=itms.first;i+=itms.first;if(items.total>0){while(t>itms.total){t-=itms.total}while(i>itms.total){i-=itms.total}while(t<0){t+=itms.total}while(i<0){i+=itms.total}}var a=$cfs.children(),l;if(i>t){l=a.slice(t,i)}else{l=$(a.slice(t,itms.total).get().concat(a.slice(0,i).get()))}if(is_function(s)){s.call($tt0,l)}return l});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,t){e.stopPropagation();var i=e.type.slice(conf.events.prefix.length),s=crsl[i];if(is_function(t)){t.call($tt0,s)}return s});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(is_function(a)){a.call($tt0,opts)}else if(is_object(a)){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false)reInit=true;else opts=$.extend(true,{},opts,a)}else if(!is_undefined(a)){if(is_function(b)){var val=eval("opts."+a);if(is_undefined(val)){val=""}b.call($tt0,val)}else if(!is_undefined(b)){if(typeof c!=="boolean")c=true;eval("opts_orig."+a+" = b");if(c!==false)reInit=true;else eval("opts."+a+" = b")}else{return eval("opts."+a)}}if(reInit){sz_resetMargin($cfs.children(),opts);FN._init(opts_orig);FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,t,i){e.stopPropagation();if(is_undefined(t)){t=$("body")}else if(is_string(t)){t=$(t)}if(!is_jquery(t)||t.length==0){return debug(conf,"Not a valid object.")}if(!is_string(i)){i="a.caroufredsel"}t.find(i).each(function(){var e=this.hash||"";if(e.length>0&&$cfs.children().index($(e))!=-1){$(this).unbind("click").click(function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),e)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(e,t,i){e.stopPropagation();if(!opts.pagination.container){return}var s=opts.pagination.items||opts.items.visible,r=Math.ceil(itms.total/s);if(t){if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var e=0;e<r;e++){var t=$cfs.children().eq(gn_getItemIndex(e*s,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(t[0],e+1))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(e){$(this).bind(opts.pagination.event,function(t){t.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[e*s,-opts.pagination.deviation,true,opts.pagination])})})})}var o=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;if(o>=r){o=0}if(o<0){o=r-1}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(o).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(e){var t=opts.items.visible,i=$cfs.children(),s=ms_getParentSize($wrp,opts,"width");itms.total=i.length;if(crsl.primarySizePercentage){opts.maxDimension=s;opts[opts.d["width"]]=ms_getPercentage(s,crsl.primarySizePercentage)}else{opts.maxDimension=ms_getMaxDimension(opts,s)}if(opts.responsive){opts.items.width=opts.items.sizesConf.width;opts.items.height=opts.items.sizesConf.height;opts=in_getResponsiveValues(opts,i,s);t=opts.items.visible;sz_setResponsiveSizes(opts,i)}else if(opts.items.visibleConf.variable){t=gn_getVisibleItemsNext(i,opts,0)}else if(opts.items.filter!="*"){t=gn_getVisibleItemsNextFilter(i,opts,0)}if(!opts.circular&&itms.first!=0&&t>itms.first){if(opts.items.visibleConf.variable){var r=gn_getVisibleItemsPrev(i,opts,itms.first)-itms.first}else if(opts.items.filter!="*"){var r=gn_getVisibleItemsPrevFilter(i,opts,itms.first)-itms.first}else{var r=opts.items.visible-itms.first}debug(conf,"Preventing non-circular: sliding "+r+" items backward.");$cfs.trigger(cf_e("prev",conf),r)}opts.items.visible=cf_getItemsAdjust(t,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts=in_getAlignPadding(opts,i);var o=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[true,o]);nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);return o});$cfs.bind(cf_e("destroy",conf),function(e,t){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("_cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(t){$cfs.trigger(cf_e("jumpToStart",conf))}sz_restoreOrigCss($cfs.children());sz_restoreOrigCss($cfs);FN._unbind_events();FN._unbind_buttons();if(conf.wrapper=="parent"){sz_restoreOrigCss($wrp)}else{$wrp.replaceWith($cfs)}return true});$cfs.bind(cf_e("debug",conf),function(e){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play){debug(conf,"Number of items scrolled automatically: "+opts.auto.items)}if(opts.prev.button){debug(conf,"Number of items scrolled backward: "+opts.prev.items)}if(opts.next.button){debug(conf,"Number of items scrolled forward: "+opts.next.items)}return conf.debug});$cfs.bind("_cfs_triggerEvent",function(e,t,i){e.stopPropagation();return $cfs.triggerHandler(cf_e(t,conf),i)})};FN._unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};FN._bind_buttons=function(){FN._unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(e){e.preventDefault();var t=false,i=null;if(crsl.isPaused){t="play"}else if(opts.auto.pauseOnEvent){t="pause";i=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}if(t){$cfs.trigger(cf_e(t,conf),i)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var e=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),e)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var t=e.keyCode;if(t==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(t==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var t=e.keyCode;if(t>=49&&t<58){t=(t-49)*opts.items.visible;if(t<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[t,0,true,opts.pagination])}}})}if($.fn.swipe){var t="ontouchstart"in window;if(t&&opts.swipe.onTouch||!t&&opts.swipe.onMouse){var i=$.extend(true,{},opts.prev,opts.swipe),s=$.extend(true,{},opts.next,opts.swipe),r=function(){$cfs.trigger(cf_e("prev",conf),[i])},o=function(){$cfs.trigger(cf_e("next",conf),[s])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=o;opts.swipe.options.swipeDown=r;break;default:opts.swipe.options.swipeLeft=o;opts.swipe.options.swipeRight=r}if(crsl.swipe){$cfs.swipe("destroy")}$wrp.swipe(opts.swipe.options);$wrp.css("cursor","move");crsl.swipe=true}}if($.fn.mousewheel){if(opts.mousewheel){var n=$.extend(true,{},opts.prev,opts.mousewheel),a=$.extend(true,{},opts.next,opts.mousewheel);if(crsl.mousewheel){$wrp.unbind(cf_e("mousewheel",conf,false))}$wrp.bind(cf_e("mousewheel",conf,false),function(e,t){e.preventDefault();if(t>0){$cfs.trigger(cf_e("prev",conf),[n])}else{$cfs.trigger(cf_e("next",conf),[a])}});crsl.mousewheel=true}}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var l=function(e){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs.trigger(cf_e("updateSizes",conf))};var c=$(window),f=null;if($.debounce&&conf.onWindowResize=="debounce"){f=$.debounce(200,l)}else if($.throttle&&conf.onWindowResize=="throttle"){f=$.throttle(300,l)}else{var u=0,p=0;f=function(){var e=c.width(),t=c.height();if(e!=u||t!=p){l();u=e;p=t}}}c.bind(cf_e("resize",conf,false,true,true),f)}};FN._unbind_buttons=function(){var e=cf_e("",conf),t=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(t);if(opts.auto.button){opts.auto.button.unbind(t)}if(opts.prev.button){opts.prev.button.unbind(t)}if(opts.next.button){opts.next.button.unbind(t)}if(opts.pagination.container){opts.pagination.container.unbind(t);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}if(crsl.swipe){$cfs.swipe("destroy");$wrp.css("cursor","default");crsl.swipe=false}if(crsl.mousewheel){crsl.mousewheel=false}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};if(is_boolean(configs)){configs={debug:configs}}var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheel:false,swipe:false},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(true,{},options),$wrp=conf.wrapper=="parent"?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;conf.transition=conf.transition&&$.fn.transition?"transition":"animate";FN._init(opts_orig,true,starting_position);FN._build();
FN._bind_events();FN._bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else if(s==="random"){s=Math.floor(Math.random()*itms.total)}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm})}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));if(conf.debug){$cfs.trigger(cf_e("debug",conf))}return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,transition:false,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(e){return'<a href="#"><span>'+e+"</span></a>"};$.fn.carouFredSel.progressbarUpdater=function(e){$(this).css("width",e+"%")};$.fn.carouFredSel.cookie={get:function(e){e+="=";var t=document.cookie.split(";");for(var i=0,s=t.length;i<s;i++){var r=t[i];while(r.charAt(0)==" "){r=r.slice(1)}if(r.indexOf(e)==0){return r.slice(e.length)}}return 0},set:function(e,t,i){var s="";if(i){var r=new Date;r.setTime(r.getTime()+i*24*60*60*1e3);s="; expires="+r.toGMTString()}document.cookie=e+"="+t+s+"; path=/"},remove:function(e){$.fn.carouFredSel.cookie.set(e,"",-1)}};function sc_setScroll(e,t,i){if(i.transition=="transition"){if(t=="swing"){t="ease"}}return{anims:[],duration:e,orgDuration:e,easing:t,startTime:getTime()}}function sc_startScroll(e,t){for(var i=0,s=e.anims.length;i<s;i++){var r=e.anims[i];if(!r){continue}r[0][t.transition](r[1],e.duration,e.easing,r[2])}}function sc_stopScroll(e,t){if(!is_boolean(t)){t=true}if(is_object(e.pre)){sc_stopScroll(e.pre,t)}for(var i=0,s=e.anims.length;i<s;i++){var r=e.anims[i];r[0].stop(true);if(t){r[0].css(r[1]);if(is_function(r[2])){r[2]()}}}if(is_object(e.post)){sc_stopScroll(e.post,t)}}function sc_afterScroll(e,t,i){if(t){t.remove()}switch(i.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":e.css("opacity",1);e.css("filter","");break}}function sc_fireCallbacks(e,t,i,s,r){if(t[i]){t[i].call(e,s)}if(r[i].length){for(var o=0,n=r[i].length;o<n;o++){r[i][o].call(e,s)}}return[]}function sc_fireQueue(e,t,i){if(t.length){e.trigger(cf_e(t[0][0],i),t[0][1]);t.shift()}return t}function sc_hideHiddenItems(e){e.each(function(){var e=$(this);e.data("_cfs_isHidden",e.is(":hidden")).hide()})}function sc_showHiddenItems(e){if(e){e.each(function(){var e=$(this);if(!e.data("_cfs_isHidden")){e.show()}})}}function sc_clearTimers(e){if(e.auto){clearTimeout(e.auto)}if(e.progress){clearInterval(e.progress)}return e}function sc_mapCallbackArguments(e,t,i,s,r,o,n){return{width:n.width,height:n.height,items:{old:e,skipped:t,visible:i},scroll:{items:s,direction:r,duration:o}}}function sc_getDuration(e,t,i,s){var r=e.duration;if(e.fx=="none"){return 0}if(r=="auto"){r=t.scroll.duration/t.scroll.items*i}else if(r<10){r=s/r}if(r<1){return 0}if(e.fx=="fade"){r=r/2}return Math.round(r)}function nv_showNavi(e,t,i){var s=is_number(e.items.minimum)?e.items.minimum:e.items.visible+1;if(t=="show"||t=="hide"){var r=t}else if(s>t){debug(i,"Not enough items ("+t+" total, "+s+" needed): Hiding navigation.");var r="hide"}else{var r="show"}var o=r=="show"?"removeClass":"addClass",n=cf_c("hidden",i);if(e.auto.button){e.auto.button[r]()[o](n)}if(e.prev.button){e.prev.button[r]()[o](n)}if(e.next.button){e.next.button[r]()[o](n)}if(e.pagination.container){e.pagination.container[r]()[o](n)}}function nv_enableNavi(e,t,i){if(e.circular||e.infinite)return;var s=t=="removeClass"||t=="addClass"?t:false,r=cf_c("disabled",i);if(e.auto.button&&s){e.auto.button[s](r)}if(e.prev.button){var o=s||t==0?"addClass":"removeClass";e.prev.button[o](r)}if(e.next.button){var o=s||t==e.items.visible?"addClass":"removeClass";e.next.button[o](r)}}function go_getObject(e,t){if(is_function(t)){t=t.call(e)}else if(is_undefined(t)){t={}}return t}function go_getItemsObject(e,t){t=go_getObject(e,t);if(is_number(t)){t={visible:t}}else if(t=="variable"){t={visible:t,width:t,height:t}}else if(!is_object(t)){t={}}return t}function go_getScrollObject(e,t){t=go_getObject(e,t);if(is_number(t)){if(t<=50){t={items:t}}else{t={duration:t}}}else if(is_string(t)){t={easing:t}}else if(!is_object(t)){t={}}return t}function go_getNaviObject(e,t){t=go_getObject(e,t);if(is_string(t)){var i=cf_getKeyCode(t);if(i==-1){t=$(t)}else{t=i}}return t}function go_getAutoObject(e,t){t=go_getNaviObject(e,t);if(is_jquery(t)){t={button:t}}else if(is_boolean(t)){t={play:t}}else if(is_number(t)){t={timeoutDuration:t}}if(t.progress){if(is_string(t.progress)||is_jquery(t.progress)){t.progress={bar:t.progress}}}return t}function go_complementAutoObject(e,t){if(is_function(t.button)){t.button=t.button.call(e)}if(is_string(t.button)){t.button=$(t.button)}if(!is_boolean(t.play)){t.play=true}if(!is_number(t.delay)){t.delay=0}if(is_undefined(t.pauseOnEvent)){t.pauseOnEvent=true}if(!is_boolean(t.pauseOnResize)){t.pauseOnResize=true}if(!is_number(t.timeoutDuration)){t.timeoutDuration=t.duration<10?2500:t.duration*5}if(t.progress){if(is_function(t.progress.bar)){t.progress.bar=t.progress.bar.call(e)}if(is_string(t.progress.bar)){t.progress.bar=$(t.progress.bar)}if(t.progress.bar){if(!is_function(t.progress.updater)){t.progress.updater=$.fn.carouFredSel.progressbarUpdater}if(!is_number(t.progress.interval)){t.progress.interval=50}}else{t.progress=false}}return t}function go_getPrevNextObject(e,t){t=go_getNaviObject(e,t);if(is_jquery(t)){t={button:t}}else if(is_number(t)){t={key:t}}return t}function go_complementPrevNextObject(e,t){if(is_function(t.button)){t.button=t.button.call(e)}if(is_string(t.button)){t.button=$(t.button)}if(is_string(t.key)){t.key=cf_getKeyCode(t.key)}return t}function go_getPaginationObject(e,t){t=go_getNaviObject(e,t);if(is_jquery(t)){t={container:t}}else if(is_boolean(t)){t={keys:t}}return t}function go_complementPaginationObject(e,t){if(is_function(t.container)){t.container=t.container.call(e)}if(is_string(t.container)){t.container=$(t.container)}if(!is_number(t.items)){t.items=false}if(!is_boolean(t.keys)){t.keys=false}if(!is_function(t.anchorBuilder)&&!is_false(t.anchorBuilder)){t.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder}if(!is_number(t.deviation)){t.deviation=0}return t}function go_getSwipeObject(e,t){if(is_function(t)){t=t.call(e)}if(is_undefined(t)){t={onTouch:false}}if(is_true(t)){t={onTouch:t}}else if(is_number(t)){t={items:t}}return t}function go_complementSwipeObject(e,t){if(!is_boolean(t.onTouch)){t.onTouch=true}if(!is_boolean(t.onMouse)){t.onMouse=false}if(!is_object(t.options)){t.options={}}if(!is_boolean(t.options.triggerOnTouchEnd)){t.options.triggerOnTouchEnd=false}return t}function go_getMousewheelObject(e,t){if(is_function(t)){t=t.call(e)}if(is_true(t)){t={}}else if(is_number(t)){t={items:t}}else if(is_undefined(t)){t=false}return t}function go_complementMousewheelObject(e,t){return t}function gn_getItemIndex(e,t,i,s,r){if(is_string(e)){e=$(e,r)}if(is_object(e)){e=$(e,r)}if(is_jquery(e)){e=r.children().index(e);if(!is_boolean(i)){i=false}}else{if(!is_boolean(i)){i=true}}if(!is_number(e)){e=0}if(!is_number(t)){t=0}if(i){e+=s.first}e+=t;if(s.total>0){while(e>=s.total){e-=s.total}while(e<0){e+=s.total}}return e}function gn_getVisibleItemsPrev(e,t,i){var s=0,r=0;for(var o=i;o>=0;o--){var n=e.eq(o);s+=n.is(":visible")?n[t.d["outerWidth"]](true):0;if(s>t.maxDimension){return r}if(o==0){o=e.length}r++}}function gn_getVisibleItemsPrevFilter(e,t,i){return gn_getItemsPrevFilter(e,t.items.filter,t.items.visibleConf.org,i)}function gn_getScrollItemsPrevFilter(e,t,i,s){return gn_getItemsPrevFilter(e,t.items.filter,s,i)}function gn_getItemsPrevFilter(e,t,i,s){var r=0,o=0;for(var n=s,a=e.length;n>=0;n--){o++;if(o==a){return o}var l=e.eq(n);if(l.is(t)){r++;if(r==i){return o}}if(n==0){n=a}}}function gn_getVisibleOrg(e,t){return t.items.visibleConf.org||e.children().slice(0,t.items.visible).filter(t.items.filter).length}function gn_getVisibleItemsNext(e,t,i){var s=0,r=0;for(var o=i,n=e.length-1;o<=n;o++){var a=e.eq(o);s+=a.is(":visible")?a[t.d["outerWidth"]](true):0;if(s>t.maxDimension){return r}r++;if(r==n+1){return r}if(o==n){o=-1}}}function gn_getVisibleItemsNextTestCircular(e,t,i,s){var r=gn_getVisibleItemsNext(e,t,i);if(!t.circular){if(i+r>s){r=s-i}}return r}function gn_getVisibleItemsNextFilter(e,t,i){return gn_getItemsNextFilter(e,t.items.filter,t.items.visibleConf.org,i,t.circular)}function gn_getScrollItemsNextFilter(e,t,i,s){return gn_getItemsNextFilter(e,t.items.filter,s+1,i,t.circular)-1}function gn_getItemsNextFilter(e,t,i,s,r){var o=0,n=0;for(var a=s,l=e.length-1;a<=l;a++){n++;if(n>=l){return n}var c=e.eq(a);if(c.is(t)){o++;if(o==i){return n}}if(a==l){a=-1}}}function gi_getCurrentItems(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsPrev(e,t,i){return e.slice(i,t.items.visibleConf.old+i)}function gi_getNewItemsPrev(e,t){return e.slice(0,t.items.visible)}function gi_getOldItemsNext(e,t){return e.slice(0,t.items.visibleConf.old)}function gi_getNewItemsNext(e,t,i){return e.slice(i,t.items.visible+i)}function sz_storeMargin(e,t,i){if(t.usePadding){if(!is_string(i)){i="_cfs_origCssMargin"}e.each(function(){var e=$(this),s=parseInt(e.css(t.d["marginRight"]),10);if(!is_number(s)){s=0}e.data(i,s)})}}function sz_resetMargin(e,t,i){if(t.usePadding){var s=is_boolean(i)?i:false;if(!is_number(i)){i=0}sz_storeMargin(e,t,"_cfs_tempCssMargin");e.each(function(){var e=$(this);e.css(t.d["marginRight"],s?e.data("_cfs_tempCssMargin"):i+e.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(e){e.each(function(){var e=$(this);e.data("_cfs_origCss",e.attr("style")||"")})}function sz_restoreOrigCss(e){e.each(function(){var e=$(this);e.attr("style",e.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(e,t){var i=e.items.visible,s=e.items[e.d["width"]],r=e[e.d["height"]],o=is_percentage(r);t.each(function(){var t=$(this),i=s-ms_getPaddingBorderMargin(t,e,"Width");t[e.d["width"]](i);if(o){t[e.d["height"]](ms_getPercentage(i,r))}})}function sz_setSizes(e,t){var i=e.parent(),s=e.children(),r=gi_getCurrentItems(s,t),o=cf_mapWrapperSizes(ms_getSizes(r,t,true),t,false);i.css(o);if(t.usePadding){var n=t.padding,a=n[t.d[1]];if(t.align&&a<0){a=0}var l=r.last();l.css(t.d["marginRight"],l.data("_cfs_origCssMargin")+a);e.css(t.d["top"],n[t.d[0]]);e.css(t.d["left"],n[t.d[3]])}e.css(t.d["width"],o[t.d["width"]]+ms_getTotalSize(s,t,"width")*2);e.css(t.d["height"],ms_getLargestSize(s,t,"height"));return o}function ms_getSizes(e,t,i){return[ms_getTotalSize(e,t,"width",i),ms_getLargestSize(e,t,"height",i)]}function ms_getLargestSize(e,t,i,s){if(!is_boolean(s)){s=false}if(is_number(t[t.d[i]])&&s){return t[t.d[i]]}if(is_number(t.items[t.d[i]])){return t.items[t.d[i]]}i=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight";return ms_getTrueLargestSize(e,t,i)}function ms_getTrueLargestSize(e,t,i){var s=0;for(var r=0,o=e.length;r<o;r++){var n=e.eq(r);var a=n.is(":visible")?n[t.d[i]](true):0;if(s<a){s=a}}return s}function ms_getTotalSize(e,t,i,s){if(!is_boolean(s)){s=false}if(is_number(t[t.d[i]])&&s){return t[t.d[i]]}if(is_number(t.items[t.d[i]])){return t.items[t.d[i]]*e.length}var r=i.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",o=0;for(var n=0,a=e.length;n<a;n++){var l=e.eq(n);o+=l.is(":visible")?l[t.d[r]](true):0}return o}function ms_getParentSize(e,t,i){var s=e.is(":visible");if(s){e.hide()}var r=e.parent()[t.d[i]]();if(s){e.show()}return r}function ms_getMaxDimension(e,t){return is_number(e[e.d["width"]])?e[e.d["width"]]:t}function ms_hasVariableSizes(e,t,i){var s=false,r=false;for(var o=0,n=e.length;o<n;o++){var a=e.eq(o);var l=a.is(":visible")?a[t.d[i]](true):0;if(s===false){s=l}else if(s!=l){r=true}if(s==0){r=true}}return r}function ms_getPaddingBorderMargin(e,t,i){return e[t.d["outer"+i]](true)-e[t.d[i.toLowerCase()]]()}function ms_getPercentage(e,t){if(is_percentage(t)){t=parseInt(t.slice(0,-1),10);if(!is_number(t)){return e}e*=t/100}return e}function cf_e(e,t,i,s,r){if(!is_boolean(i)){i=true}if(!is_boolean(s)){s=true}if(!is_boolean(r)){r=false}if(i){e=t.events.prefix+e}if(s){e=e+"."+t.events.namespace}if(s&&r){e+=t.serialNumber}return e}function cf_c(e,t){return is_string(t.classnames[e])?t.classnames[e]:e}function cf_mapWrapperSizes(e,t,i){if(!is_boolean(i)){i=true}var s=t.usePadding&&i?t.padding:[0,0,0,0];var r={};r[t.d["width"]]=e[0]+s[1]+s[3];r[t.d["height"]]=e[1]+s[0]+s[2];return r}function cf_sortParams(e,t){var i=[];for(var s=0,r=e.length;s<r;s++){for(var o=0,n=t.length;o<n;o++){if(t[o].indexOf(typeof e[s])>-1&&is_undefined(i[o])){i[o]=e[s];break}}}return i}function cf_getPadding(e){if(is_undefined(e)){return[0,0,0,0]}if(is_number(e)){return[e,e,e,e]}if(is_string(e)){e=e.split("px").join("").split("em").join("").split(" ")}if(!is_array(e)){return[0,0,0,0]}for(var t=0;t<4;t++){e[t]=parseInt(e[t],10)}switch(e.length){case 0:return[0,0,0,0];case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];default:return[e[0],e[1],e[2],e[3]]}}function cf_getAlignPadding(e,t){var i=is_number(t[t.d["width"]])?Math.ceil(t[t.d["width"]]-ms_getTotalSize(e,t,"width")):0;switch(t.align){case"left":return[0,i];case"right":return[i,0];case"center":default:return[Math.ceil(i/2),Math.floor(i/2)]}}function cf_getDimensions(e){var t=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var i=t[0].length,s=e.direction=="right"||e.direction=="left"?0:1;var r={};for(var o=0;o<i;o++){r[t[0][o]]=t[s][o]}return r}function cf_getAdjust(e,t,i,s){var r=e;if(is_function(i)){r=i.call(s,r)}else if(is_string(i)){var o=i.split("+"),n=i.split("-");if(n.length>o.length){var a=true,l=n[0],c=n[1]}else{var a=false,l=o[0],c=o[1]}switch(l){case"even":r=e%2==1?e-1:e;break;case"odd":r=e%2==0?e-1:e;break;default:r=e;break}c=parseInt(c,10);if(is_number(c)){if(a){c=-c}r+=c}}if(!is_number(r)||r<1){r=1}return r}function cf_getItemsAdjust(e,t,i,s){return cf_getItemAdjustMinMax(cf_getAdjust(e,t,i,s),t.items.visibleConf)}function cf_getItemAdjustMinMax(e,t){if(is_number(t.min)&&e<t.min){e=t.min}if(is_number(t.max)&&e>t.max){e=t.max}if(e<1){e=1}return e}function cf_getSynchArr(e){if(!is_array(e)){e=[[e]]}if(!is_array(e[0])){e=[e]}for(var t=0,i=e.length;t<i;t++){if(is_string(e[t][0])){e[t][0]=$(e[t][0])}if(!is_boolean(e[t][1])){e[t][1]=true}if(!is_boolean(e[t][2])){e[t][2]=true}if(!is_number(e[t][3])){e[t][3]=0}}return e}function cf_getKeyCode(e){if(e=="right"){return 39}if(e=="left"){return 37}if(e=="up"){return 38}if(e=="down"){return 40}return-1}function cf_setCookie(e,t,i){if(e){var s=t.triggerHandler(cf_e("currentPosition",i));$.fn.carouFredSel.cookie.set(e,s)}}function cf_getCookie(e){var t=$.fn.carouFredSel.cookie.get(e);return t==""?0:t}function in_mapCss(e,t){var i={};for(var s=0,r=t.length;s<r;s++){i[t[s]]=e.css(t[s])}return i}function in_complementItems(e,t,i,s){if(!is_object(e.visibleConf)){e.visibleConf={}}if(!is_object(e.sizesConf)){e.sizesConf={}}if(e.start==0&&is_number(s)){e.start=s}if(is_object(e.visible)){e.visibleConf.min=e.visible.min;e.visibleConf.max=e.visible.max;e.visible=false}else if(is_string(e.visible)){if(e.visible=="variable"){e.visibleConf.variable=true}else{e.visibleConf.adjust=e.visible}e.visible=false}else if(is_function(e.visible)){e.visibleConf.adjust=e.visible;e.visible=false}if(!is_string(e.filter)){e.filter=i.filter(":hidden").length>0?":visible":"*"}if(!e[t.d["width"]]){if(t.responsive){debug(true,"Set a "+t.d["width"]+" for the items!");e[t.d["width"]]=ms_getTrueLargestSize(i,t,"outerWidth")}else{e[t.d["width"]]=ms_hasVariableSizes(i,t,"outerWidth")?"variable":i[t.d["outerWidth"]](true)}}if(!e[t.d["height"]]){e[t.d["height"]]=ms_hasVariableSizes(i,t,"outerHeight")?"variable":i[t.d["outerHeight"]](true)}e.sizesConf.width=e.width;e.sizesConf.height=e.height;return e}function in_complementVisibleItems(e,t){if(e.items[e.d["width"]]=="variable"){e.items.visibleConf.variable=true}if(!e.items.visibleConf.variable){if(is_number(e[e.d["width"]])){e.items.visible=Math.floor(e[e.d["width"]]/e.items[e.d["width"]])}else{e.items.visible=Math.floor(t/e.items[e.d["width"]]);e[e.d["width"]]=e.items.visible*e.items[e.d["width"]];if(!e.items.visibleConf.adjust){e.align=false}}if(e.items.visible=="Infinity"||e.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');e.items.visibleConf.variable=true}}return e}function in_complementPrimarySize(e,t,i){if(e=="auto"){e=ms_getTrueLargestSize(i,t,"outerWidth")}return e}function in_complementSecondarySize(e,t,i){if(e=="auto"){e=ms_getTrueLargestSize(i,t,"outerHeight")}if(!e){e=t.items[t.d["height"]]}return e}function in_getAlignPadding(e,t){var i=cf_getAlignPadding(gi_getCurrentItems(t,e),e);e.padding[e.d[1]]=i[1];e.padding[e.d[3]]=i[0];return e}function in_getResponsiveValues(e,t,i){var s=cf_getItemAdjustMinMax(Math.ceil(e[e.d["width"]]/e.items[e.d["width"]]),e.items.visibleConf);if(s>t.length){s=t.length}var r=Math.floor(e[e.d["width"]]/s);e.items.visible=s;e.items[e.d["width"]]=r;e[e.d["width"]]=s*r;return e}function bt_pauseOnHoverConfig(e){if(is_string(e)){var t=e.indexOf("immediate")>-1?true:false,i=e.indexOf("resume")>-1?true:false}else{var t=i=false}return[t,i]}function bt_mousesheelNumber(e){return is_number(e)?e:null}function is_null(e){return e===null}function is_undefined(e){return is_null(e)||typeof e=="undefined"||e===""||e==="undefined"}function is_array(e){return e instanceof Array}function is_jquery(e){return e instanceof jQuery}function is_object(e){return(e instanceof Object||typeof e=="object")&&!is_null(e)&&!is_jquery(e)&&!is_array(e)&&!is_function(e)}function is_number(e){return(e instanceof Number||typeof e=="number")&&!isNaN(e)}function is_string(e){return(e instanceof String||typeof e=="string")&&!is_undefined(e)&&!is_true(e)&&!is_false(e)}function is_function(e){return e instanceof Function||typeof e=="function"}function is_boolean(e){return e instanceof Boolean||typeof e=="boolean"||is_true(e)||is_false(e)}function is_true(e){return e===true||e==="true"}function is_false(e){return e===false||e==="false"}function is_percentage(e){return is_string(e)&&e.slice(-1)=="%"}function getTime(){return(new Date).getTime()}function deprecated(e,t){debug(true,e+" is DEPRECATED, support for it will be removed. Use "+t+" instead.")}function debug(e,t){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(e)){var i=" ("+e.selector+")";e=e.debug}else{var i=""}if(!e){return false}if(is_string(t)){t="carouFredSel"+i+": "+t}else{t=["carouFredSel"+i+":",t]}window.console.log(t)}return false}$.extend($.easing,{quadratic:function(e){var t=e*e;return e*(-t*e+4*t-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){var t=e*e;return e*(33*t*t-106*t*e+126*t-67*e+15)}})})(jQuery);(function(e){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],e)}else{e(jQuery)}})(function(e){var t="1.6.9",i="left",s="right",r="up",o="down",n="in",a="out",l="none",c="auto",f="swipe",u="pinch",p="tap",d="doubletap",h="longtap",m="hold",g="horizontal",_="vertical",v="all",b=10,y="start",w="move",x="end",$="cancel",k="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,S=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,C="TouchSwipe";var I={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:true};e.fn.swipe=function(t){var i=e(this),s=i.data(C);if(s&&typeof t==="string"){if(s[t]){return s[t].apply(this,Array.prototype.slice.call(arguments,1))}else{e.error("Method "+t+" does not exist on jQuery.swipe")}}else{if(!s&&(typeof t==="object"||!t)){return P.apply(this,arguments)}}return i};e.fn.swipe.version=t;e.fn.swipe.defaults=I;e.fn.swipe.phases={PHASE_START:y,PHASE_MOVE:w,PHASE_END:x,PHASE_CANCEL:$};e.fn.swipe.directions={LEFT:i,RIGHT:s,UP:r,DOWN:o,IN:n,OUT:a};e.fn.swipe.pageScroll={NONE:l,HORIZONTAL:g,VERTICAL:_,AUTO:c};e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:v};function P(t){if(t&&(t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined))){t.allowPageScroll=l}if(t.click!==undefined&&t.tap===undefined){t.tap=t.click}if(!t){t={}}t=e.extend({},e.fn.swipe.defaults,t);return this.each(function(){var i=e(this);var s=i.data(C);if(!s){s=new O(this,t);i.data(C,s)}})}function O(t,m){var I=k||S||!m.fallbackToMouseEvents,P=I?S?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",O=I?S?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",j=I?S?T?"MSPointerUp":"pointerup":"touchend":"mouseup",M=I?null:"mouseleave",z=S?T?"MSPointerCancel":"pointercancel":"touchcancel";var F=0,E=null,A=0,D=0,N=0,H=1,R=0,L=0,q=null;var W=e(t);var B="start";var V=0;var U=null;var X=0,K=0,Q=0,Z=0,Y=0;var G=null,J=null;try{W.bind(P,te);W.bind(z,re)}catch(ee){e.error("events not supported "+P+","+z+" on jQuery.swipe")}this.enable=function(){W.bind(P,te);W.bind(z,re);return W};this.disable=function(){ne();return W};this.destroy=function(){ne();W.data(C,null);W=null};this.option=function(t,i){if(m[t]!==undefined){if(i===undefined){return m[t]}else{m[t]=i}}else{e.error("Option "+t+" does not exist on jQuery.swipe.options")}return null};function te(t){if(Ae()){return}if(e(t.target).closest(m.excludedElements,W).length>0){return}var i=t.originalEvent?t.originalEvent:t;var s,r=i.touches,o=r?r[0]:i;B=y;if(r){V=r.length}else{t.preventDefault()}F=0;E=null;L=null;A=0;D=0;N=0;H=1;R=0;U=Le();q=Be();Fe();if(!r||(V===m.fingers||m.fingers===v)||ge()){Ne(0,o);X=Je();if(V==2){Ne(1,r[1]);D=N=Xe(U[0].start,U[1].start)}if(m.swipeStatus||m.pinchStatus){s=le(i,B)}}else{s=false}if(s===false){B=$;le(i,B);return s}else{if(m.hold){J=setTimeout(e.proxy(function(){W.trigger("hold",[i.target]);if(m.hold){s=m.hold.call(W,i,i.target)}},this),m.longTapThreshold)}De(true)}return null}function ie(e){var t=e.originalEvent?e.originalEvent:e;if(B===x||B===$||Ee()){return}var i,s=t.touches,r=s?s[0]:t;var o=He(r);K=Je();if(s){V=s.length}if(m.hold){clearTimeout(J)}B=w;if(V==2){if(D==0){Ne(1,s[1]);D=N=Xe(U[0].start,U[1].start)}else{He(s[1]);N=Xe(U[0].end,U[1].end);L=Qe(U[0].end,U[1].end)}H=Ke(D,N);R=Math.abs(D-N)}if(V===m.fingers||m.fingers===v||!s||ge()){E=Ge(o.start,o.end);he(e,E);F=Ze(o.start,o.end);A=Ue();qe(E,F);if(m.swipeStatus||m.pinchStatus){i=le(t,B)}if(!m.triggerOnTouchEnd||m.triggerOnTouchLeave){var n=true;if(m.triggerOnTouchLeave){var a=et(this);n=tt(o.end,a)}if(!m.triggerOnTouchEnd&&n){B=ae(w)}else{if(m.triggerOnTouchLeave&&!n){B=ae(x)}}if(B==$||B==x){le(t,B)}}}else{B=$;le(t,B)}if(i===false){B=$;le(t,B)}}function se(e){var t=e.originalEvent?e.originalEvent:e,i=t.touches;if(i){if(i.length){ze();return true}}if(Ee()){V=Z}K=Je();A=Ue();if(ue()||!fe()){B=$;le(t,B)}else{if(m.triggerOnTouchEnd||m.triggerOnTouchEnd==false&&B===w){e.preventDefault();B=x;le(t,B)}else{if(!m.triggerOnTouchEnd&&$e()){B=x;ce(t,B,p)}else{if(B===w){B=$;le(t,B)}}}}De(false);return null}function re(){V=0;K=0;X=0;D=0;N=0;H=1;Fe();De(false)}function oe(e){var t=e.originalEvent?e.originalEvent:e;if(m.triggerOnTouchLeave){B=ae(x);le(t,B)}}function ne(){W.unbind(P,te);W.unbind(z,re);W.unbind(O,ie);W.unbind(j,se);if(M){W.unbind(M,oe)}De(false)}function ae(e){var t=e;var i=de();var s=fe();var r=ue();if(!i||r){t=$}else{if(s&&e==w&&(!m.triggerOnTouchEnd||m.triggerOnTouchLeave)){t=x}else{if(!s&&e==x&&m.triggerOnTouchLeave){t=$}}}return t}function le(e,t){var i,s=e.touches;if(ye()||be()||(_e()||ge())){if(ye()||be()){i=ce(e,t,f)}if((_e()||ge())&&i!==false){i=ce(e,t,u)}}else{if(je()&&i!==false){i=ce(e,t,d)}else{if(Me()&&i!==false){i=ce(e,t,h)}else{if(Oe()&&i!==false){i=ce(e,t,p)}}}}if(t===$){re(e)}if(t===x){if(s){if(!s.length){re(e)}}else{re(e)}}return i}function ce(t,l,c){var g;if(c==f){W.trigger("swipeStatus",[l,E||null,F||0,A||0,V,U]);if(m.swipeStatus){g=m.swipeStatus.call(W,t,l,E||null,F||0,A||0,V,U);if(g===false){return false}}if(l==x&&ve()){W.trigger("swipe",[E,F,A,V,U]);if(m.swipe){g=m.swipe.call(W,t,E,F,A,V,U);if(g===false){return false}}switch(E){case i:W.trigger("swipeLeft",[E,F,A,V,U]);if(m.swipeLeft){g=m.swipeLeft.call(W,t,E,F,A,V,U)}break;case s:W.trigger("swipeRight",[E,F,A,V,U]);if(m.swipeRight){g=m.swipeRight.call(W,t,E,F,A,V,U)}break;case r:W.trigger("swipeUp",[E,F,A,V,U]);if(m.swipeUp){g=m.swipeUp.call(W,t,E,F,A,V,U)}break;case o:W.trigger("swipeDown",[E,F,A,V,U]);if(m.swipeDown){g=m.swipeDown.call(W,t,E,F,A,V,U)}break}}}if(c==u){W.trigger("pinchStatus",[l,L||null,R||0,A||0,V,H,U]);if(m.pinchStatus){g=m.pinchStatus.call(W,t,l,L||null,R||0,A||0,V,H,U);if(g===false){return false}}if(l==x&&me()){switch(L){case n:W.trigger("pinchIn",[L||null,R||0,A||0,V,H,U]);if(m.pinchIn){g=m.pinchIn.call(W,t,L||null,R||0,A||0,V,H,U)}break;case a:W.trigger("pinchOut",[L||null,R||0,A||0,V,H,U]);if(m.pinchOut){g=m.pinchOut.call(W,t,L||null,R||0,A||0,V,H,U)}break}}}if(c==p){if(l===$||l===x){clearTimeout(G);clearTimeout(J);if(ke()&&!Ce()){Y=Je();G=setTimeout(e.proxy(function(){Y=null;W.trigger("tap",[t.target]);if(m.tap){g=m.tap.call(W,t,t.target)}},this),m.doubleTapThreshold)}else{Y=null;W.trigger("tap",[t.target]);if(m.tap){g=m.tap.call(W,t,t.target)}}}}else{if(c==d){if(l===$||l===x){clearTimeout(G);Y=null;W.trigger("doubletap",[t.target]);if(m.doubleTap){g=m.doubleTap.call(W,t,t.target)}}}else{if(c==h){if(l===$||l===x){clearTimeout(G);Y=null;W.trigger("longtap",[t.target]);if(m.longTap){g=m.longTap.call(W,t,t.target)}}}}}return g}function fe(){var e=true;if(m.threshold!==null){e=F>=m.threshold}return e}function ue(){var e=false;if(m.cancelThreshold!==null&&E!==null){e=We(E)-F>=m.cancelThreshold}return e}function pe(){if(m.pinchThreshold!==null){return R>=m.pinchThreshold}return true}function de(){var e;if(m.maxTimeThreshold){if(A>=m.maxTimeThreshold){e=false}else{e=true}}else{e=true}return e}function he(e,t){if(m.preventDefaultEvents===false){return}if(m.allowPageScroll===l){e.preventDefault()}else{var n=m.allowPageScroll===c;switch(t){case i:if(m.swipeLeft&&n||!n&&m.allowPageScroll!=g){e.preventDefault()}break;case s:if(m.swipeRight&&n||!n&&m.allowPageScroll!=g){e.preventDefault()}break;case r:if(m.swipeUp&&n||!n&&m.allowPageScroll!=_){e.preventDefault()}break;case o:if(m.swipeDown&&n||!n&&m.allowPageScroll!=_){e.preventDefault()}break}}}function me(){var e=we();var t=xe();var i=pe();return e&&t&&i}function ge(){return!!(m.pinchStatus||m.pinchIn||m.pinchOut)}function _e(){return!!(me()&&ge())}function ve(){var e=de();var t=fe();var i=we();var s=xe();var r=ue();var o=!r&&s&&i&&t&&e;return o}function be(){return!!(m.swipe||m.swipeStatus||m.swipeLeft||m.swipeRight||m.swipeUp||m.swipeDown)}function ye(){return!!(ve()&&be())}function we(){return V===m.fingers||m.fingers===v||!k}function xe(){return U[0].end.x!==0}function $e(){return!!m.tap}function ke(){return!!m.doubleTap}function Te(){return!!m.longTap}function Se(){if(Y==null){return false}var e=Je();return ke()&&e-Y<=m.doubleTapThreshold}function Ce(){return Se()}function Ie(){return(V===1||!k)&&(isNaN(F)||F<m.threshold)}function Pe(){return A>m.longTapThreshold&&F<b}function Oe(){return!!(Ie()&&$e())}function je(){return!!(Se()&&ke())}function Me(){return!!(Pe()&&Te())}function ze(){Q=Je();Z=event.touches.length+1}function Fe(){Q=0;Z=0}function Ee(){var e=false;if(Q){var t=Je()-Q;if(t<=m.fingerReleaseThreshold){e=true}}return e}function Ae(){return!!(W.data(C+"_intouch")===true)}function De(e){if(e===true){W.bind(O,ie);W.bind(j,se);if(M){W.bind(M,oe)}}else{W.unbind(O,ie,false);W.unbind(j,se,false);if(M){W.unbind(M,oe,false)}}W.data(C+"_intouch",e===true)}function Ne(e,t){var i=t.identifier!==undefined?t.identifier:0;U[e].identifier=i;U[e].start.x=U[e].end.x=t.pageX||t.clientX;U[e].start.y=U[e].end.y=t.pageY||t.clientY;return U[e]}function He(e){var t=e.identifier!==undefined?e.identifier:0;var i=Re(t);i.end.x=e.pageX||e.clientX;i.end.y=e.pageY||e.clientY;return i}function Re(e){for(var t=0;t<U.length;t++){if(U[t].identifier==e){return U[t]}}}function Le(){var e=[];for(var t=0;t<=5;t++){e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return e}function qe(e,t){t=Math.max(t,We(e));q[e].distance=t}function We(e){if(q[e]){return q[e].distance}return undefined}function Be(){var e={};e[i]=Ve(i);e[s]=Ve(s);e[r]=Ve(r);e[o]=Ve(o);return e}function Ve(e){return{direction:e,distance:0}}function Ue(){return K-X}function Xe(e,t){var i=Math.abs(e.x-t.x);var s=Math.abs(e.y-t.y);return Math.round(Math.sqrt(i*i+s*s))}function Ke(e,t){var i=t/e*1;return i.toFixed(2)}function Qe(){if(H<1){return a}else{return n}}function Ze(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Ye(e,t){var i=e.x-t.x;var s=t.y-e.y;var r=Math.atan2(s,i);var o=Math.round(r*180/Math.PI);if(o<0){o=360-Math.abs(o)}return o}function Ge(e,t){var n=Ye(e,t);if(n<=45&&n>=0){return i}else{if(n<=360&&n>=315){return i}else{if(n>=135&&n<=225){return s}else{if(n>45&&n<135){return o}else{return r}}}}}function Je(){var e=new Date;return e.getTime()}function et(t){t=e(t);var i=t.offset();var s={left:i.left,right:i.left+t.outerWidth(),top:i.top,bottom:i.top+t.outerHeight()};return s}function tt(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}}});(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else if(typeof exports==="object"){e(require("jquery"))}else{e(window.jQuery||window.Zepto)}})(function(e){var t="Close",i="BeforeClose",s="AfterClose",r="BeforeAppend",o="MarkupParse",n="Open",a="Change",l="mfp",c="."+l,f="mfp-ready",u="mfp-removing",p="mfp-prevent-close";var d,h=function(){},m=!!window.jQuery,g,_=e(window),v,b,y,w;var x=function(e,t){d.ev.on(l+e+c,t)},$=function(t,i,s,r){var o=document.createElement("div");o.className="mfp-"+t;if(s){o.innerHTML=s}if(!r){o=e(o);if(i){o.appendTo(i)}}else if(i){i.appendChild(o)}return o},k=function(t,i){d.ev.triggerHandler(l+t,i);if(d.st.callbacks){t=t.charAt(0).toLowerCase()+t.slice(1);if(d.st.callbacks[t]){d.st.callbacks[t].apply(d,e.isArray(i)?i:[i])}}},T=function(t){if(t!==w||!d.currTemplate.closeBtn){d.currTemplate.closeBtn=e(d.st.closeMarkup.replace("%title%",d.st.tClose));w=t}return d.currTemplate.closeBtn},S=function(){if(!e.magnificPopup.instance){d=new h;d.init();e.magnificPopup.instance=d}},C=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(e["transition"]!==undefined){return true}while(t.length){if(t.pop()+"Transition"in e){return true}}return false};h.prototype={constructor:h,init:function(){var t=navigator.appVersion;d.isIE7=t.indexOf("MSIE 7.")!==-1;d.isIE8=t.indexOf("MSIE 8.")!==-1;d.isLowIE=d.isIE7||d.isIE8;d.isAndroid=/android/gi.test(t);d.isIOS=/iphone|ipad|ipod/gi.test(t);d.supportsTransition=C();d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);v=e(document);d.popupsCache={};
},open:function(t){var i;if(t.isObj===false){d.items=t.items.toArray();d.index=0;var s=t.items,r;for(i=0;i<s.length;i++){r=s[i];if(r.parsed){r=r.el[0]}if(r===t.el[0]){d.index=i;break}}}else{d.items=e.isArray(t.items)?t.items:[t.items];d.index=t.index||0}if(d.isOpen){d.updateItemHTML();return}d.types=[];y="";if(t.mainEl&&t.mainEl.length){d.ev=t.mainEl.eq(0)}else{d.ev=v}if(t.key){if(!d.popupsCache[t.key]){d.popupsCache[t.key]={}}d.currTemplate=d.popupsCache[t.key]}else{d.currTemplate={}}d.st=e.extend(true,{},e.magnificPopup.defaults,t);d.fixedContentPos=d.st.fixedContentPos==="auto"?!d.probablyMobile:d.st.fixedContentPos;if(d.st.modal){d.st.closeOnContentClick=false;d.st.closeOnBgClick=false;d.st.showCloseBtn=false;d.st.enableEscapeKey=false}if(!d.bgOverlay){d.bgOverlay=$("bg").on("click"+c,function(){d.close()});d.wrap=$("wrap").attr("tabindex",-1).on("click"+c,function(e){if(d._checkIfClose(e.target)){d.close()}});d.container=$("container",d.wrap)}d.contentContainer=$("content");if(d.st.preloader){d.preloader=$("preloader",d.container,d.st.tLoading)}var a=e.magnificPopup.modules;for(i=0;i<a.length;i++){var l=a[i];l=l.charAt(0).toUpperCase()+l.slice(1);d["init"+l].call(d)}k("BeforeOpen");if(d.st.showCloseBtn){if(!d.st.closeBtnInside){d.wrap.append(T())}else{x(o,function(e,t,i,s){i.close_replaceWith=T(s.type)});y+=" mfp-close-btn-in"}}if(d.st.alignTop){y+=" mfp-align-top"}if(d.fixedContentPos){d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY})}else{d.wrap.css({top:_.scrollTop(),position:"absolute"})}if(d.st.fixedBgPos===false||d.st.fixedBgPos==="auto"&&!d.fixedContentPos){d.bgOverlay.css({height:v.height(),position:"absolute"})}if(d.st.enableEscapeKey){v.on("keyup"+c,function(e){if(e.keyCode===27){d.close()}})}_.on("resize"+c,function(){d.updateSize()});if(!d.st.closeOnContentClick){y+=" mfp-auto-cursor"}if(y)d.wrap.addClass(y);var u=d.wH=_.height();var p={};if(d.fixedContentPos){if(d._hasScrollBar(u)){var h=d._getScrollbarSize();if(h){p.marginRight=h}}}if(d.fixedContentPos){if(!d.isIE7){p.overflow="hidden"}else{e("body, html").css("overflow","hidden")}}var m=d.st.mainClass;if(d.isIE7){m+=" mfp-ie7"}if(m){d._addClassToMFP(m)}d.updateItemHTML();k("BuildControls");e("html").css(p);d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||e(document.body));d._lastFocusedEl=document.activeElement;setTimeout(function(){if(d.content){d._addClassToMFP(f);d._setFocus()}else{d.bgOverlay.addClass(f)}v.on("focusin"+c,d._onFocusIn)},16);d.isOpen=true;d.updateSize(u);k(n);return t},close:function(){if(!d.isOpen)return;k(i);d.isOpen=false;if(d.st.removalDelay&&!d.isLowIE&&d.supportsTransition){d._addClassToMFP(u);setTimeout(function(){d._close()},d.st.removalDelay)}else{d._close()}},_close:function(){k(t);var i=u+" "+f+" ";d.bgOverlay.detach();d.wrap.detach();d.container.empty();if(d.st.mainClass){i+=d.st.mainClass+" "}d._removeClassFromMFP(i);if(d.fixedContentPos){var r={marginRight:""};if(d.isIE7){e("body, html").css("overflow","")}else{r.overflow=""}e("html").css(r)}v.off("keyup"+c+" focusin"+c);d.ev.off(c);d.wrap.attr("class","mfp-wrap").removeAttr("style");d.bgOverlay.attr("class","mfp-bg");d.container.attr("class","mfp-container");if(d.st.showCloseBtn&&(!d.st.closeBtnInside||d.currTemplate[d.currItem.type]===true)){if(d.currTemplate.closeBtn)d.currTemplate.closeBtn.detach()}if(d._lastFocusedEl){e(d._lastFocusedEl).focus()}d.currItem=null;d.content=null;d.currTemplate=null;d.prevHeight=0;k(s)},updateSize:function(e){if(d.isIOS){var t=document.documentElement.clientWidth/window.innerWidth;var i=window.innerHeight*t;d.wrap.css("height",i);d.wH=i}else{d.wH=e||_.height()}if(!d.fixedContentPos){d.wrap.css("height",d.wH)}k("Resize")},updateItemHTML:function(){var t=d.items[d.index];d.contentContainer.detach();if(d.content)d.content.detach();if(!t.parsed){t=d.parseEl(d.index)}var i=t.type;k("BeforeChange",[d.currItem?d.currItem.type:"",i]);d.currItem=t;if(!d.currTemplate[i]){var s=d.st[i]?d.st[i].markup:false;k("FirstMarkupParse",s);if(s){d.currTemplate[i]=e(s)}else{d.currTemplate[i]=true}}if(b&&b!==t.type){d.container.removeClass("mfp-"+b+"-holder")}var r=d["get"+i.charAt(0).toUpperCase()+i.slice(1)](t,d.currTemplate[i]);d.appendContent(r,i);t.preloaded=true;k(a,t);b=t.type;d.container.prepend(d.contentContainer);k("AfterChange")},appendContent:function(e,t){d.content=e;if(e){if(d.st.showCloseBtn&&d.st.closeBtnInside&&d.currTemplate[t]===true){if(!d.content.find(".mfp-close").length){d.content.append(T())}}else{d.content=e}}else{d.content=""}k(r);d.container.addClass("mfp-"+t+"-holder");d.contentContainer.append(d.content)},parseEl:function(t){var i=d.items[t],s;if(i.tagName){i={el:e(i)}}else{s=i.type;i={data:i,src:i.src}}if(i.el){var r=d.types;for(var o=0;o<r.length;o++){if(i.el.hasClass("mfp-"+r[o])){s=r[o];break}}i.src=i.el.attr("data-mfp-src");if(!i.src){i.src=i.el.attr("href")}}i.type=s||d.st.type||"inline";i.index=t;i.parsed=true;d.items[t]=i;k("ElementParse",i);return d.items[t]},addGroup:function(e,t){var i=function(i){i.mfpEl=this;d._openClick(i,e,t)};if(!t){t={}}var s="click.magnificPopup";t.mainEl=e;if(t.items){t.isObj=true;e.off(s).on(s,i)}else{t.isObj=false;if(t.delegate){e.off(s).on(s,t.delegate,i)}else{t.items=e;e.off(s).on(s,i)}}},_openClick:function(t,i,s){var r=s.midClick!==undefined?s.midClick:e.magnificPopup.defaults.midClick;if(!r&&(t.which===2||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey)){return}var o=s.disableOn!==undefined?s.disableOn:e.magnificPopup.defaults.disableOn;if(o){if(e.isFunction(o)){if(!o.call(d)){return true}}else{if(_.width()<o){return true}}}if(t.type){t.preventDefault();if(d.isOpen){t.stopPropagation()}}s.el=e(t.mfpEl);if(s.delegate){s.items=i.find(s.delegate)}d.open(s)},updateStatus:function(e,t){if(d.preloader){if(g!==e){d.container.removeClass("mfp-s-"+g)}if(!t&&e==="loading"){t=d.st.tLoading}var i={status:e,text:t};k("UpdateStatus",i);e=i.status;t=i.text;d.preloader.html(t);d.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()});d.container.addClass("mfp-s-"+e);g=e}},_checkIfClose:function(t){if(e(t).hasClass(p)){return}var i=d.st.closeOnContentClick;var s=d.st.closeOnBgClick;if(i&&s){return true}else{if(!d.content||e(t).hasClass("mfp-close")||d.preloader&&t===d.preloader[0]){return true}if(t!==d.content[0]&&!e.contains(d.content[0],t)){if(s){if(e.contains(document,t)){return true}}}else if(i){return true}}return false},_addClassToMFP:function(e){d.bgOverlay.addClass(e);d.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e);d.wrap.removeClass(e)},_hasScrollBar:function(e){return(d.isIE7?v.height():document.body.scrollHeight)>(e||_.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(t){if(t.target!==d.wrap[0]&&!e.contains(d.wrap[0],t.target)){d._setFocus();return false}},_parseMarkup:function(t,i,s){var r;if(s.data){i=e.extend(s.data,i)}k(o,[t,i,s]);e.each(i,function(e,i){if(i===undefined||i===false){return true}r=e.split("_");if(r.length>1){var s=t.find(c+"-"+r[0]);if(s.length>0){var o=r[1];if(o==="replaceWith"){if(s[0]!==i[0]){s.replaceWith(i)}}else if(o==="img"){if(s.is("img")){s.attr("src",i)}else{s.replaceWith('<img src="'+i+'" class="'+s.attr("class")+'" />')}}else{s.attr(r[1],i)}}}else{t.find(c+"-"+e).html(i)}})},_getScrollbarSize:function(){if(d.scrollbarSize===undefined){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(e);d.scrollbarSize=e.offsetWidth-e.clientWidth;document.body.removeChild(e)}return d.scrollbarSize}};e.magnificPopup={instance:null,proto:h.prototype,modules:[],open:function(t,i){S();if(!t){t={}}else{t=e.extend(true,{},t)}t.isObj=true;t.index=i||0;return this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,i){if(i.options){e.magnificPopup.defaults[t]=i.options}e.extend(this.proto,i.proto);this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}};e.fn.magnificPopup=function(t){S();var i=e(this);if(typeof t==="string"){if(t==="open"){var s,r=m?i.data("magnificPopup"):i[0].magnificPopup,o=parseInt(arguments[1],10)||0;if(r.items){s=r.items[o]}else{s=i;if(r.delegate){s=s.find(r.delegate)}s=s.eq(o)}d._openClick({mfpEl:s},i,r)}else{if(d.isOpen)d[t].apply(d,Array.prototype.slice.call(arguments,1))}}else{t=e.extend(true,{},t);if(m){i.data("magnificPopup",t)}else{i[0].magnificPopup=t}d.addGroup(i,t)}return i};var I="inline",P,O,j,M=function(){if(j){O.after(j.addClass(P)).detach();j=null}};e.magnificPopup.registerModule(I,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(I);x(t+"."+I,function(){M()})},getInline:function(t,i){M();if(t.src){var s=d.st.inline,r=e(t.src);if(r.length){var o=r[0].parentNode;if(o&&o.tagName){if(!O){P=s.hiddenClass;O=$(P);P="mfp-"+P}j=r.after(O).detach().removeClass(P)}d.updateStatus("ready")}else{d.updateStatus("error",s.tNotFound);r=e("<div>")}t.inlineElement=r;return r}d.updateStatus("ready");d._parseMarkup(i,{},t);return i}}});var z="ajax",F,E=function(){if(F){e(document.body).removeClass(F)}},A=function(){E();if(d.req){d.req.abort()}};e.magnificPopup.registerModule(z,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(z);F=d.st.ajax.cursor;x(t+"."+z,A);x("BeforeChange."+z,A)},getAjax:function(t){if(F){e(document.body).addClass(F)}d.updateStatus("loading");var i=e.extend({url:t.src,success:function(i,s,r){var o={data:i,xhr:r};k("ParseAjax",o);d.appendContent(e(o.data),z);t.finished=true;E();d._setFocus();setTimeout(function(){d.wrap.addClass(f)},16);d.updateStatus("ready");k("AjaxContentAdded")},error:function(){E();t.finished=t.loadError=true;d.updateStatus("error",d.st.ajax.tError.replace("%url%",t.src))}},d.st.ajax.settings);d.req=e.ajax(i);return""}}});var D,N=function(t){if(t.data&&t.data.title!==undefined)return t.data.title;var i=d.st.image.titleSrc;if(i){if(e.isFunction(i)){return i.call(d,t)}else if(t.el){return t.el.attr(i)||""}}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+"<figure>"+'<div class="mfp-img"></div>'+"<figcaption>"+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+"</div>"+"</figcaption>"+"</figure>"+"</div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var i=d.st.image,s=".image";d.types.push("image");x(n+s,function(){if(d.currItem.type==="image"&&i.cursor){e(document.body).addClass(i.cursor)}});x(t+s,function(){if(i.cursor){e(document.body).removeClass(i.cursor)}_.off("resize"+c)});x("Resize"+s,d.resizeImage);if(d.isLowIE){x("AfterChange",d.resizeImage)}},resizeImage:function(){var e=d.currItem;if(!e||!e.img)return;if(d.st.image.verticalFit){var t=0;if(d.isLowIE){t=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)}e.img.css("max-height",d.wH-t)}},_onImageHasSize:function(e){if(e.img){e.hasSize=true;if(D){clearInterval(D)}e.isCheckingImgSize=false;k("ImageHasSize",e);if(e.imgHidden){if(d.content)d.content.removeClass("mfp-loading");e.imgHidden=false}}},findImageSize:function(e){var t=0,i=e.img[0],s=function(r){if(D){clearInterval(D)}D=setInterval(function(){if(i.naturalWidth>0){d._onImageHasSize(e);return}if(t>200){clearInterval(D)}t++;if(t===3){s(10)}else if(t===40){s(50)}else if(t===100){s(500)}},r)};s(1)},getImage:function(t,i){var s=0,r=function(){if(t){if(t.img[0].complete){t.img.off(".mfploader");if(t===d.currItem){d._onImageHasSize(t);d.updateStatus("ready")}t.hasSize=true;t.loaded=true;k("ImageLoadComplete")}else{s++;if(s<200){setTimeout(r,100)}else{o()}}}},o=function(){if(t){t.img.off(".mfploader");if(t===d.currItem){d._onImageHasSize(t);d.updateStatus("error",n.tError.replace("%url%",t.src))}t.hasSize=true;t.loaded=true;t.loadError=true}},n=d.st.image;var a=i.find(".mfp-img");if(a.length){var l=document.createElement("img");l.className="mfp-img";if(t.el&&t.el.find("img").length){l.alt=t.el.find("img").attr("alt")}t.img=e(l).on("load.mfploader",r).on("error.mfploader",o);l.src=t.src;if(a.is("img")){t.img=t.img.clone()}l=t.img[0];if(l.naturalWidth>0){t.hasSize=true}else if(!l.width){t.hasSize=false}}d._parseMarkup(i,{title:N(t),img_replaceWith:t.img},t);d.resizeImage();if(t.hasSize){if(D)clearInterval(D);if(t.loadError){i.addClass("mfp-loading");d.updateStatus("error",n.tError.replace("%url%",t.src))}else{i.removeClass("mfp-loading");d.updateStatus("ready")}return i}d.updateStatus("loading");t.loading=true;if(!t.hasSize){t.imgHidden=true;i.addClass("mfp-loading");d.findImageSize(t)}return i}}});var H,R=function(){if(H===undefined){H=document.createElement("p").style.MozTransform!==undefined}return H};e.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e=d.st.zoom,s=".zoom",r;if(!e.enabled||!d.supportsTransition){return}var o=e.duration,n=function(t){var i=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),s="all "+e.duration/1e3+"s "+e.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";r["-webkit-"+o]=r["-moz-"+o]=r["-o-"+o]=r[o]=s;i.css(r);return i},a=function(){d.content.css("visibility","visible")},l,c;x("BuildControls"+s,function(){if(d._allowZoom()){clearTimeout(l);d.content.css("visibility","hidden");r=d._getItemToZoom();if(!r){a();return}c=n(r);c.css(d._getOffset());d.wrap.append(c);l=setTimeout(function(){c.css(d._getOffset(true));l=setTimeout(function(){a();setTimeout(function(){c.remove();r=c=null;k("ZoomAnimationEnded")},16)},o)},16)}});x(i+s,function(){if(d._allowZoom()){clearTimeout(l);d.st.removalDelay=o;if(!r){r=d._getItemToZoom();if(!r){return}c=n(r)}c.css(d._getOffset(true));d.wrap.append(c);d.content.css("visibility","hidden");setTimeout(function(){c.css(d._getOffset())},16)}});x(t+s,function(){if(d._allowZoom()){a();if(c){c.remove()}r=null}})},_allowZoom:function(){return d.currItem.type==="image"},_getItemToZoom:function(){if(d.currItem.hasSize){return d.currItem.img}else{return false}},_getOffset:function(t){var i;if(t){i=d.currItem.img}else{i=d.st.zoom.opener(d.currItem.el||d.currItem)}var s=i.offset();var r=parseInt(i.css("padding-top"),10);var o=parseInt(i.css("padding-bottom"),10);s.top-=e(window).scrollTop()-r;var n={width:i.width(),height:(m?i.innerHeight():i[0].offsetHeight)-o-r};if(R()){n["-moz-transform"]=n["transform"]="translate("+s.left+"px,"+s.top+"px)"}else{n.left=s.left;n.top=s.top}return n}}});var L="iframe",q="//about:blank",W=function(e){if(d.currTemplate[L]){var t=d.currTemplate[L].find("iframe");if(t.length){if(!e){t[0].src=q}if(d.isIE8){t.css("display",e?"block":"none")}}}};e.magnificPopup.registerModule(L,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+"</div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(L);x("BeforeChange",function(e,t,i){if(t!==i){if(t===L){W()}else if(i===L){W(true)}}});x(t+"."+L,function(){W()})},getIframe:function(t,i){var s=t.src;var r=d.st.iframe;e.each(r.patterns,function(){if(s.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){s=s.substr(s.lastIndexOf(this.id)+this.id.length,s.length)}else{s=this.id.call(this,s)}}s=this.src.replace("%id%",s);return false}});var o={};if(r.srcAction){o[r.srcAction]=s}d._parseMarkup(i,o,t);d.updateStatus("ready");return i}}});var B=function(e){var t=d.items.length;if(e>t-1){return e-t}else if(e<0){return t+e}return e},V=function(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)};e.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var i=d.st.gallery,s=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);d.direction=true;if(!i||!i.enabled)return false;y+=" mfp-gallery";x(n+s,function(){if(i.navigateByImgClick){d.wrap.on("click"+s,".mfp-img",function(){if(d.items.length>1){d.next();return false}})}v.on("keydown"+s,function(e){if(e.keyCode===37){d.prev()}else if(e.keyCode===39){d.next()}})});x("UpdateStatus"+s,function(e,t){if(t.text){t.text=V(t.text,d.currItem.index,d.items.length)}});x(o+s,function(e,t,s,r){var o=d.items.length;s.counter=o>1?V(i.tCounter,r.index,o):""});x("BuildControls"+s,function(){if(d.items.length>1&&i.arrows&&!d.arrowLeft){var t=i.arrowMarkup,s=d.arrowLeft=e(t.replace(/%title%/gi,i.tPrev).replace(/%dir%/gi,"left")).addClass(p),o=d.arrowRight=e(t.replace(/%title%/gi,i.tNext).replace(/%dir%/gi,"right")).addClass(p);var n=r?"mfpFastClick":"click";s[n](function(){d.prev()});o[n](function(){d.next()});if(d.isIE7){$("b",s[0],false,true);$("a",s[0],false,true);$("b",o[0],false,true);$("a",o[0],false,true)}d.container.append(s.add(o))}});x(a+s,function(){if(d._preloadTimeout)clearTimeout(d._preloadTimeout);d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages();d._preloadTimeout=null},16)});x(t+s,function(){v.off(s);d.wrap.off("click"+s);if(d.arrowLeft&&r){d.arrowLeft.add(d.arrowRight).destroyMfpFastClick()}d.arrowRight=d.arrowLeft=null})},next:function(){d.direction=true;d.index=B(d.index+1);d.updateItemHTML()},prev:function(){d.direction=false;d.index=B(d.index-1);d.updateItemHTML()},goTo:function(e){d.direction=e>=d.index;d.index=e;d.updateItemHTML()},preloadNearbyImages:function(){var e=d.st.gallery.preload,t=Math.min(e[0],d.items.length),i=Math.min(e[1],d.items.length),s;for(s=1;s<=(d.direction?i:t);s++){d._preloadItem(d.index+s)}for(s=1;s<=(d.direction?t:i);s++){d._preloadItem(d.index-s)}},_preloadItem:function(t){t=B(t);if(d.items[t].preloaded){return}var i=d.items[t];if(!i.parsed){i=d.parseEl(t)}k("LazyLoad",i);if(i.type==="image"){i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=true}).on("error.mfploader",function(){i.hasSize=true;i.loadError=true;k("LazyLoadError",i)}).attr("src",i.src)}i.preloaded=true}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=d.st.retina,t=e.ratio;t=!isNaN(t)?t:t();if(t>1){x("ImageHasSize"+"."+U,function(e,i){i.img.css({"max-width":i.img[0].naturalWidth/t,width:"100%"})});x("ElementParse"+"."+U,function(i,s){s.src=e.replaceSrc(s,t)})}}}}});(function(){var t=1e3,i="ontouchstart"in window,s=function(){_.off("touchmove"+o+" touchend"+o)},r="mfpFastClick",o="."+r;e.fn.mfpFastClick=function(r){return e(this).each(function(){var n=e(this),a;if(i){var l,c,f,u,p,d;n.on("touchstart"+o,function(e){u=false;d=1;p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];c=p.clientX;f=p.clientY;_.on("touchmove"+o,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches;d=p.length;p=p[0];if(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-f)>10){u=true;s()}}).on("touchend"+o,function(e){s();if(u||d>1){return}a=true;e.preventDefault();clearTimeout(l);l=setTimeout(function(){a=false},t);r()})})}n.on("click"+o,function(){if(!a){r()}})})};e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+o+" click"+o);if(i)_.off("touchmove"+o+" touchend"+o)}})();S()});var scrollme=function(e){var t={};var i=e(document);var s=e(window);t.body_height=0;t.viewport_height=0;t.viewport_top=0;t.viewport_bottom=0;t.viewport_top_previous=-1;t.elements=[];t.elements_in_view=[];t.property_defaults={opacity:1,translatex:0,translatey:0,translatez:0,rotatex:0,rotatey:0,rotatez:0,scale:1,scalex:1,scaley:1,scalez:1};t.scrollme_selector=".scrollme";t.animateme_selector=".animateme";t.update_interval=10;t.easing_functions={linear:function(e){return e},easeout:function(e){return e*e*e},easein:function(e){e=1-e;return 1-e*e*e},easeinout:function(e){if(e<.5){return 4*e*e*e}else{e=1-e;return 1-4*e*e*e}}};t.init_events=["ready","page:load","page:change"];t.init_if=function(){return true};t.init=function(){if(!t.init_if())return false;t.init_elements();t.on_resize();s.on("resize orientationchange",function(){t.on_resize()});s.load(function(){setTimeout(function(){t.on_resize()},100)});setInterval(t.update,t.update_interval);return true};t.init_elements=function(){e(t.scrollme_selector).each(function(){var i={};i.element=e(this);var s=[];e(this).find(t.animateme_selector).addBack(t.animateme_selector).each(function(){var i={};i.element=e(this);i.when=i.element.data("when");i.from=i.element.data("from");i.to=i.element.data("to");if(i.element.is("[data-crop]")){i.crop=i.element.data("crop")}else{i.crop=true}if(i.element.is("[data-easing]")){i.easing=t.easing_functions[i.element.data("easing")]}else{i.easing=t.easing_functions["easeout"]}var r={};if(i.element.is("[data-opacity]"))r.opacity=i.element.data("opacity");if(i.element.is("[data-translatex]"))r.translatex=i.element.data("translatex");if(i.element.is("[data-translatey]"))r.translatey=i.element.data("translatey");if(i.element.is("[data-translatez]"))r.translatez=i.element.data("translatez");if(i.element.is("[data-rotatex]"))r.rotatex=i.element.data("rotatex");if(i.element.is("[data-rotatey]"))r.rotatey=i.element.data("rotatey");if(i.element.is("[data-rotatez]"))r.rotatez=i.element.data("rotatez");if(i.element.is("[data-scale]"))r.scale=i.element.data("scale");if(i.element.is("[data-scalex]"))r.scalex=i.element.data("scalex");if(i.element.is("[data-scaley]"))r.scaley=i.element.data("scaley");if(i.element.is("[data-scalez]"))r.scalez=i.element.data("scalez");i.properties=r;s.push(i)});i.effects=s;t.elements.push(i)})};t.update=function(){window.requestAnimationFrame(function(){t.update_viewport_position();if(t.viewport_top_previous!=t.viewport_top){t.update_elements_in_view();t.animate()}t.viewport_top_previous=t.viewport_top})};t.animate=function(){var e=t.elements_in_view.length;for(var i=0;i<e;i++){var s=t.elements_in_view[i];var r=s.effects.length;for(var o=0;o<r;o++){var n=s.effects[o];switch(n.when){case"view":case"span":var a=s.top-t.viewport_height;var l=s.bottom;break;case"exit":var a=s.bottom-t.viewport_height;var l=s.bottom;break;default:var a=s.top-t.viewport_height;var l=s.top;break}if(n.crop){if(a<0)a=0;if(l>t.body_height-t.viewport_height)l=t.body_height-t.viewport_height}var c=(t.viewport_top-a)/(l-a);var f=n["from"];var u=n["to"];var p=u-f;var d=(c-f)/p;var h=n.easing(d);var m=t.animate_value(c,h,f,u,n,"opacity");var g=t.animate_value(c,h,f,u,n,"translatey");var _=t.animate_value(c,h,f,u,n,"translatex");var v=t.animate_value(c,h,f,u,n,"translatez");var b=t.animate_value(c,h,f,u,n,"rotatex");var y=t.animate_value(c,h,f,u,n,"rotatey");var w=t.animate_value(c,h,f,u,n,"rotatez");var x=t.animate_value(c,h,f,u,n,"scale");var $=t.animate_value(c,h,f,u,n,"scalex");var k=t.animate_value(c,h,f,u,n,"scaley");var T=t.animate_value(c,h,f,u,n,"scalez");if("scale"in n.properties){$=x;k=x;T=x}n.element.css({opacity:m,transform:"translate3d( "+_+"px , "+g+"px , "+v+"px ) rotateX( "+b+"deg ) rotateY( "+y+"deg ) rotateZ( "+w+"deg ) scale3d( "+$+" , "+k+" , "+T+" )"})}}};t.animate_value=function(e,i,s,r,o,n){var a=t.property_defaults[n];if(!(n in o.properties))return a;var l=o.properties[n];var c=r>s?true:false;if(e<s&&c){return a}if(e>r&&c){return l}if(e>s&&!c){return a}if(e<r&&!c){return l}var f=a+i*(l-a);switch(n){case"opacity":f=f.toFixed(2);break;case"translatex":f=f.toFixed(0);break;case"translatey":f=f.toFixed(0);break;case"translatez":f=f.toFixed(0);break;case"rotatex":f=f.toFixed(1);break;case"rotatey":f=f.toFixed(1);break;case"rotatez":f=f.toFixed(1);break;case"scale":f=f.toFixed(3);break;default:break}return f};t.update_viewport_position=function(){t.viewport_top=s.scrollTop();t.viewport_bottom=t.viewport_top+t.viewport_height};t.update_elements_in_view=function(){t.elements_in_view=[];var e=t.elements.length;for(var i=0;i<e;i++){if(t.elements[i].top<t.viewport_bottom&&t.elements[i].bottom>t.viewport_top){t.elements_in_view.push(t.elements[i])}}};t.on_resize=function(){t.update_viewport();t.update_element_heights();t.update_viewport_position();t.update_elements_in_view();t.animate()};t.update_viewport=function(){t.body_height=i.height();t.viewport_height=s.height()};t.update_element_heights=function(){var e=t.elements.length;for(var i=0;i<e;i++){var s=t.elements[i].element.outerHeight();var r=t.elements[i].element.offset();t.elements[i].height=s;t.elements[i].top=r.top;t.elements[i].bottom=r.top+s}};i.on(t.init_events.join(" "),function(){t.init()});return t}(jQuery);(function(e,t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else{t(e.jQuery)}})(this,function(e){"use strict";var t=false;var i={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};i.scrolls.add=function(e){this.remove(e).push(e)};i.scrolls.remove=function(t){while(e.inArray(t,this)>=0){this.splice(e.inArray(t,this),1)}return this};var s={autoScrollSize:true,autoUpdate:true,debug:false,disableBodyScroll:false,duration:200,ignoreMobile:false,ignoreOverlay:false,scrollStep:30,showArrows:false,stepScrolling:true,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null};var r=function(t){if(!i.scroll){i.overlay=l();i.scroll=a();n();e(window).resize(function(){var e=false;if(i.scroll&&(i.scroll.height||i.scroll.width)){var t=a();if(t.height!==i.scroll.height||t.width!==i.scroll.width){i.scroll=t;e=true}}n(e)})}this.container=t;this.namespace=".scrollbar_"+i.data.index++;this.options=e.extend({},s,window.jQueryScrollbarOptions||{});this.scrollTo=null;this.scrollx={};this.scrolly={};t.data(i.data.name,this);i.scrolls.add(this)};r.prototype={destroy:function(){if(!this.wrapper){return}this.container.removeData(i.data.name);i.scrolls.remove(this);var t=this.container.scrollLeft();var s=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(t).scrollTop(s);this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace);this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace);this.wrapper.remove();e(document).add("body").off(this.namespace);if(e.isFunction(this.options.onDestroy)){this.options.onDestroy.apply(this,[this.container])}},init:function(t){var s=this,r=this.container,o=this.containerWrapper||r,n=this.namespace,a=e.extend(this.options,t||{}),l={x:this.scrollx,y:this.scrolly},f=this.wrapper;var u={scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop()};if(i.mobile&&a.ignoreMobile||i.overlay&&a.ignoreOverlay||i.macosx&&!i.webkit){return false}if(!f){this.wrapper=f=e("<div>").addClass("scroll-wrapper").addClass(r.attr("class")).css("position",r.css("position")=="absolute"?"absolute":"relative").insertBefore(r).append(r);if(r.is("textarea")){this.containerWrapper=o=e("<div>").insertBefore(r).append(r);f.addClass("scroll-textarea")}o.addClass("scroll-content").css({height:"auto","margin-bottom":i.scroll.height*-1+"px","margin-right":i.scroll.width*-1+"px","max-height":""});r.on("scroll"+n,function(t){if(e.isFunction(a.onScroll)){a.onScroll.call(s,{maxScroll:l.y.maxScrollOffset,scroll:r.scrollTop(),size:l.y.size,visible:l.y.visible},{maxScroll:l.x.maxScrollOffset,scroll:r.scrollLeft(),size:l.x.size,visible:l.x.visible})}l.x.isVisible&&l.x.scroll.bar.css("left",r.scrollLeft()*l.x.kx+"px");l.y.isVisible&&l.y.scroll.bar.css("top",r.scrollTop()*l.y.kx+"px")});f.on("scroll"+n,function(){f.scrollTop(0).scrollLeft(0)});if(a.disableBodyScroll){var p=function(e){c(e)?l.y.isVisible&&l.y.mousewheel(e):l.x.isVisible&&l.x.mousewheel(e)};f.on("MozMousePixelScroll"+n,p);f.on("mousewheel"+n,p);if(i.mobile){f.on("touchstart"+n,function(t){var i=t.originalEvent.touches&&t.originalEvent.touches[0]||t;var s={pageX:i.pageX,pageY:i.pageY};var o={left:r.scrollLeft(),top:r.scrollTop()};e(document).on("touchmove"+n,function(e){var t=e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]||e;r.scrollLeft(o.left+s.pageX-t.pageX);r.scrollTop(o.top+s.pageY-t.pageY);e.preventDefault()});e(document).on("touchend"+n,function(){e(document).off(n)})})}}if(e.isFunction(a.onInit)){a.onInit.apply(this,[r])}}else{o.css({height:"auto","margin-bottom":i.scroll.height*-1+"px","margin-right":i.scroll.width*-1+"px","max-height":""})}e.each(l,function(t,i){var o=null;var f=1;var u=t==="x"?"scrollLeft":"scrollTop";var p=a.scrollStep;var d=function(){var e=r[u]();r[u](e+p);if(f==1&&e+p>=h)e=r[u]();if(f==-1&&e+p<=h)e=r[u]();if(r[u]()==e&&o){o()}};var h=0;if(!i.scroll){i.scroll=s._getScroll(a["scroll"+t]).addClass("scroll-"+t);if(a.showArrows){i.scroll.addClass("scroll-element_arrows_visible")}i.mousewheel=function(e){if(!i.isVisible||t==="x"&&c(e)){return true}if(t==="y"&&!c(e)){l.x.mousewheel(e);return true}var o=e.originalEvent.wheelDelta*-1||e.originalEvent.detail;var n=i.size-i.visible-i.offset;if(o>0&&h<n||o<0&&h>0){h=h+o;if(h<0)h=0;if(h>n)h=n;s.scrollTo=s.scrollTo||{};s.scrollTo[u]=h;setTimeout(function(){if(s.scrollTo){r.stop().animate(s.scrollTo,240,"linear",function(){h=r[u]()});s.scrollTo=null}},1)}e.preventDefault();return false};i.scroll.on("MozMousePixelScroll"+n,i.mousewheel).on("mousewheel"+n,i.mousewheel).on("mouseenter"+n,function(){h=r[u]()});i.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+n,function(n){if(n.which!=1)return true;f=1;var l={eventOffset:n[t==="x"?"pageX":"pageY"],maxScrollValue:i.size-i.visible-i.offset,scrollbarOffset:i.scroll.bar.offset()[t==="x"?"left":"top"],scrollbarSize:i.scroll.bar[t==="x"?"outerWidth":"outerHeight"]()};var c=0,m=0;if(e(this).hasClass("scroll-arrow")){f=e(this).hasClass("scroll-arrow_more")?1:-1;p=a.scrollStep*f;h=f>0?l.maxScrollValue:0}else{f=l.eventOffset>l.scrollbarOffset+l.scrollbarSize?1:l.eventOffset<l.scrollbarOffset?-1:0;p=Math.round(i.visible*.75)*f;h=l.eventOffset-l.scrollbarOffset-(a.stepScrolling?f==1?l.scrollbarSize:0:Math.round(l.scrollbarSize/2));h=r[u]()+h/i.kx}s.scrollTo=s.scrollTo||{};s.scrollTo[u]=a.stepScrolling?r[u]()+p:h;if(a.stepScrolling){o=function(){h=r[u]();clearInterval(m);clearTimeout(c);c=0;m=0};c=setTimeout(function(){m=setInterval(d,40)},a.duration+100)}setTimeout(function(){if(s.scrollTo){r.animate(s.scrollTo,a.duration);s.scrollTo=null}},1);return s._handleMouseDown(o,n)});i.scroll.bar.on("mousedown"+n,function(o){if(o.which!=1)return true;var a=o[t==="x"?"pageX":"pageY"];var l=r[u]();i.scroll.addClass("scroll-draggable");e(document).on("mousemove"+n,function(e){var s=parseInt((e[t==="x"?"pageX":"pageY"]-a)/i.kx,10);r[u](l+s)});return s._handleMouseDown(function(){i.scroll.removeClass("scroll-draggable");
h=r[u]()},o)})}});e.each(l,function(e,t){var i="scroll-scroll"+e+"_visible";var s=e=="x"?l.y:l.x;t.scroll.removeClass(i);s.scroll.removeClass(i);o.removeClass(i)});e.each(l,function(t,i){e.extend(i,t=="x"?{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:f.width()}:{offset:parseInt(r.css("top"),10)||0,size:r.prop("scrollHeight"),visible:f.height()})});this._updateScroll("x",this.scrollx);this._updateScroll("y",this.scrolly);if(e.isFunction(a.onUpdate)){a.onUpdate.apply(this,[r])}e.each(l,function(e,t){var i=e==="x"?"left":"top";var s=e==="x"?"outerWidth":"outerHeight";var o=e==="x"?"width":"height";var n=parseInt(r.css(i),10)||0;var l=t.size;var c=t.visible+n;var f=t.scroll.size[s]()+(parseInt(t.scroll.size.css(i),10)||0);if(a.autoScrollSize){t.scrollbarSize=parseInt(f*c/l,10);t.scroll.bar.css(o,t.scrollbarSize+"px")}t.scrollbarSize=t.scroll.bar[s]();t.kx=(f-t.scrollbarSize)/(l-c)||1;t.maxScrollOffset=l-c});r.scrollLeft(u.scrollLeft).scrollTop(u.scrollTop).trigger("scroll")},_getScroll:function(t){var i={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};if(i[t]){t=i[t]}if(!t){t=i["simple"]}if(typeof t=="string"){t=e(t).appendTo(this.wrapper)}else{t=e(t)}e.extend(t,{bar:t.find(".scroll-bar"),size:t.find(".scroll-element_size"),track:t.find(".scroll-element_track")});return t},_handleMouseDown:function(t,i){var s=this.namespace;e(document).on("blur"+s,function(){e(document).add("body").off(s);t&&t()});e(document).on("dragstart"+s,function(e){e.preventDefault();return false});e(document).on("mouseup"+s,function(){e(document).add("body").off(s);t&&t()});e("body").on("selectstart"+s,function(e){e.preventDefault();return false});i&&i.preventDefault();return false},_updateScroll:function(t,s){var r=this.container,o=this.containerWrapper||r,n="scroll-scroll"+t+"_visible",a=t==="x"?this.scrolly:this.scrollx,l=parseInt(this.container.css(t==="x"?"left":"top"),10)||0,c=this.wrapper;var f=s.size;var u=s.visible+l;s.isVisible=f-u>1;if(s.isVisible){s.scroll.addClass(n);a.scroll.addClass(n);o.addClass(n)}else{s.scroll.removeClass(n);a.scroll.removeClass(n);o.removeClass(n)}if(t==="y"){if(r.is("textarea")||f<u){o.css({height:u+i.scroll.height+"px","max-height":"none"})}else{o.css({"max-height":u+i.scroll.height+"px"})}}if(s.size!=r.prop("scrollWidth")||a.size!=r.prop("scrollHeight")||s.visible!=c.width()||a.visible!=c.height()||s.offset!=(parseInt(r.css("left"),10)||0)||a.offset!=(parseInt(r.css("top"),10)||0)){e.extend(this.scrollx,{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:c.width()});e.extend(this.scrolly,{offset:parseInt(r.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()});this._updateScroll(t==="x"?"y":"x",a)}}};var o=r;e.fn.scrollbar=function(t,s){if(typeof t!=="string"){s=t;t="init"}if(typeof s==="undefined"){s=[]}if(!e.isArray(s)){s=[s]}this.not("body, .scroll-wrapper").each(function(){var r=e(this),n=r.data(i.data.name);if(n||t==="init"){if(!n){n=new o(r)}if(n[t]){n[t].apply(n,s)}}});return this};e.fn.scrollbar.options=s;var n=function(){var e=0,s=0;return function(r){var o,a,l,c,f,u,p;for(o=0;o<i.scrolls.length;o++){c=i.scrolls[o];a=c.container;l=c.options;f=c.wrapper;u=c.scrollx;p=c.scrolly;if(r||l.autoUpdate&&f&&f.is(":visible")&&(a.prop("scrollWidth")!=u.size||a.prop("scrollHeight")!=p.size||f.width()!=u.visible||f.height()!=p.visible)){c.init();if(l.debug){window.console&&console.log({scrollHeight:a.prop("scrollHeight")+":"+c.scrolly.size,scrollWidth:a.prop("scrollWidth")+":"+c.scrollx.size,visibleHeight:f.height()+":"+c.scrolly.visible,visibleWidth:f.width()+":"+c.scrollx.visible},true);s++}}}if(t&&s>10){window.console&&console.log("Scroll updates exceed 10");n=function(){}}else{clearTimeout(e);e=setTimeout(n,300)}}}();function a(t){if(i.webkit&&!t){return{height:0,width:0}}if(!i.data.outer){var s={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};i.data.inner=e("<div>").css(e.extend({},s));i.data.outer=e("<div>").css(e.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},s)).append(i.data.inner).appendTo("body")}i.data.outer.scrollLeft(1e3).scrollTop(1e3);return{height:Math.ceil(i.data.outer.offset().top-i.data.inner.offset().top||0),width:Math.ceil(i.data.outer.offset().left-i.data.inner.offset().left||0)}}function l(){var e=a(true);return!(e.height||e.width)}function c(e){var t=e.originalEvent;if(t.axis&&t.axis===t.HORIZONTAL_AXIS)return false;if(t.wheelDeltaX)return false;return true}if(window.angular){(function(e){e.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var t=s;return{setOptions:function(i){e.extend(t,i)},$get:function(){return{options:e.copy(t)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(e,t){return{restrict:"AC",link:function(i,s,r){var o=t(r.jqueryScrollbar),n=o(i);s.scrollbar(n||e.options).on("$destroy",function(){s.scrollbar("destroy")})}}}])})(window.angular)}});(function(e){e.extend(e.easing,{spincrementEasing:function(e,t,i,s,r){return t==r?i+s:s*(-Math.pow(2,-10*t/r)+1)+i}});e.fn.spincrement=function(t){var i={from:0,to:false,decimalPlaces:0,decimalPoint:".",thousandSeparator:",",duration:1e3,leeway:50,easing:"spincrementEasing",fade:true};var s=e.extend(i,t);var r=new RegExp(/^(-?[0-9]+)([0-9]{3})/);function o(e){e=e.toFixed(s.decimalPlaces);if(s.decimalPlaces>0&&s.decimalPoint!="."){e=e.replace(".",s.decimalPoint)}if(s.thousandSeparator){while(r.test(e)){e=e.replace(r,"$1"+s.thousandSeparator+"$2")}}return e}return this.each(function(){var t=e(this);var i=s.from;var r=s.to!=false?s.to:parseFloat(t.html());var n=s.duration;if(s.leeway){n+=Math.round(s.duration*((Math.random()*2-1)*s.leeway/100))}t.css("counter",i);if(s.fade)t.css("opacity",0);t.animate({counter:r,opacity:1},{easing:s.easing,duration:n,step:function(e){t.css("visibility","visible");t.html(o(e*r))},complete:function(){t.css("counter",null);t.html(o(r))}})})}})(jQuery);